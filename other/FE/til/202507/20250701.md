# 有限小数と無限小数

有限小数は、小数点以下が有限の桁数で終わる小数のこと。

- 0.5 (1/2)
- 2.75 (11/4)
- 0.125 (1/8)

=> 小数の桁数が途中で終わる

無限小数は、小数点以下が永遠に続いて終わらない小数のこと。

無限小数には、循環小数と非循環小数がある。

- 循環小数 : 同じ数字やパターンがずっと繰り返される(0.33333...)
- 非循環小数 : 規則性のない数字が永遠に続く(無理数)

# 分母が2と5

分数を10進数に直した時の性質によって決まる。

- 分母を素因数分解して、2と5だけからなる => 有限小数
- 2と5以外の素因数を含む => 無限小数

| 分数 | 小数表記    | 有限 or 無限 | 備考                              |
|------|-------------|--------------|-----------------------------------|
| 1/2  | 0.5         | 有限         | 分母2だけ                         |
| 1/3  | 0.333...    | 無限(循環)   | 分母に3がある(2・5以外)           |
| 1/4  | 0.25        | 有限         | 分母2x2                           |
| 1/5  | 0.2         | 有限         | 分母5                             |
| 1/6  | 0.1666...   | 無限(循環)   | 分母に2と3 => 3があるので無限小数 |
| 1/7  | 0.142857... | 無限(循環)   | 分母に7 => 無限小数               |
| 1/8  | 0.125       | 有限         | 分母2x2x2                         |
| 1/9  | 0.111...    | 無限(循環)   | 分母に3x3 => 3あり                |
| 1/10 | 0.1         | 有限         | 分母2x5                           |

これは10進数の基数の10が `2 x 5`の性質からきてるらしい。

# シフト演算

ビットを左右にずらして、掛け算・割り算を行うやつ。

- 論理シフト : 正負を考慮しない(符号ビットを考慮しない)
- 算術シフト : 正負を考慮する(符号ビットを考慮する)

左にnビットずらすと、2^n倍、右にnビットずらすと、2^-n倍になるすごいやつ。

## 論理シフト

正負を考慮しないので簡単 :dog:

ずらして空いたビットには0を入れる、はみ出たビットは捨てる。

```
# 10進数の11を2ビット左にずらす
0000 1011 => 0010 1100 => 2^5+2^3+2^2 = 44

2ビット左なので2^2倍(4倍)になっている
```

## 算術シフト

- 符号ビットは固定する
- ビットからはみ出たビットは捨てる
- 左シフトでは空いたビットに0を入れる
- 右シフトでは符号ビットと同じ数を入れる

```
# 2進数(2の補数表現)
1111 0100 => 1111 0011(1引く) => 0000 1100(ビット反転) => -12(10進数)

# 左シフト2ビット
1101 0000 => 1100 1111(1引く) => 0011 0000(ビット反転) => -48(10進数)
```

### 問題

10進数`7÷32`を2進数で表す。

- 32は2^5であるとピンとくる
- 割るので5ビット右シフトすればいいのでは
- 7を2進数にすると111
- 右に5ビットずらすので、0000 0111 => 0.00111

# シフト演算と足し算

例: 2進数の11を9倍する

- 9倍とは8倍+1倍
- 2^3倍して1倍(元の数を足す)
- 11を左に3ビットずらすと11000
- これに1倍 = 元の数 = 11 を足す
- よって`11011`

# 10倍

10進数xを2進数abとし、これを10倍してみる。

| 作業                   | xの値         | abの値 |
|------------------------|---------------|--------|
| 2ビット左にずらす(4倍) | 4x(x * 2^2)   | ab00   |
| 元の数を足す           | 5x(4x + x)    | abab   |
| 1ビット左にずらす(2倍) | 10x(5x * 2^1) | abab0  |


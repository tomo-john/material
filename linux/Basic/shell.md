## shell
ユーザーとカーネルの翻訳者(インタープリタ)

利用可能なシェルは `/etc/shells` ファイルで確認可能

---

### 標準入出力
Linux上で実行されるプログラムはデフォルトで3つ出入口がある

- 標準入力(キーボードからプログラムへ)
- 標準出力(プログラムから端末画面へ)
- 標準エラー出力(プログラムから端末画面へ)

入力元、出力先はリダイレクトで変更することが可能

### リダイレクト
コマンド(プログラム)の標準出力を端末画面ではなく、任意のファイルに切り替えることができる

```
# 標準出力
>  : 指定ファイルに上書き
>> : 指定ファイルに追記

# 標準エラー出力
2>  : 指定ファイルに上書き
2>> : 指定ファイルに追記

# 同時
&> : 標準出力と標準エラーを同時にリダイレクト(bash)

# それぞれを別のファイルに
command > output.log 2> error.log

# 標準出力を標準エラーに
command 1>&2

# 標準エラーを標準出力に
command 2>&1

# 同時(多くのシェルで使用できる)
command > log 2>&1
=> 標準出力のリダイレクト → 標準エラーのリダイレクト
```
### メタキャラクタ
シェルにとって特別な意味を持つ文字
```
*  : 0文字以上の任意の文字列
?  : 任意の1文字
[] : []内の任意の1文字
\  : メタキャラクタの打ち消し
```

### 変数
```
# 変数の設定と参照
var=Linux
echo $var
```
```
# シェルが利用する主な変数
HOME     : ユーザーのホームディレクトリ
HOSTNAME : ホスト名(コンピューター名)
LANG     : ユーザーの言語処理方式
PATH     : コマンドを検索するディレクトリリスト
PS1      : プロンプトの表示項目
PWD      : カレントディレクトリのパス
UID      : ユーザーID
USER     : ユーザー名
```

- 変数は大文字と小文字が区別される
- 変数の内容はシェルが終了すると失われる
- 変数の有効範囲は変数を設定したシェルの中だけ

1つのシェルの中だけで使える変数が`シェル変数`

設定したシェルと、そのシェル上で起動したシェルや実行したコマンドでも使える変数が`環境変数`

=> 環境変数は `export` コマンドで設定する
```
# 方法その①
VAR1=dog
export VAR1

# 方法その②
export VAR2=john

# 確認
echo "$VAR2 is $VAR1" # => john is dog
```

変数展開時はダブルクォーテーションを使用すること

=> シングルクォーテーションだと変数展開されない

環境変数はグローバルな変数ではないので、環境変数を設定した以外のシェルや他ユーザーのシェルでは参照できない

環境変数は全てのシェルで共有する変数ではないので、環境変数を設定したシェル以外で変数の値を更新しても元のシェルでは反映されない

=> tmuxで複製したウィンドウもそれぞれ違うシェルなので環境変数は共有されない

- 設定されている環境変数は `printenv` コマンドで確認できる
- シェル変数と環境変数を全て確認する時は `set` コマンド
- 設定されているシェル変数だけを確認するコマンドはない


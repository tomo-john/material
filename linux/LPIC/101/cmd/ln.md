# ln

ファイルやディレクトリのリンク(別名)を作成するコマンド。

リンクには`ハードリンク`と`シンボリックリンク`の2種類が存在する。

```
ln [-s] リンク元ファイル リンク先ファイル
```

=> `-s`オプションをつけるとシンボリックリンク、つけないとハードリンク

## ハードリンク

- 同じinode番号を持つ別の名前のファイル(参照する実体は同じ)
- 元ファイルが消えても中身は残る(すべてのハードリンクが消えると消える)
- 同じファイルシステム内でしか作成ができない(ファイルシステムが異なるとinode番号の管理が異なる)
- ディレクトリのハードリンクは作成できない

## シンボリックリンク

- 別ファイルへのパスを記録しているだけのファイル(Windowsのショートカット的な)
- 中身は独立(元ファイルが消えるとリンクが壊れる) => 壊れたリンクとしてリンクファイルは残る
- 異なるファイルシステムでも作成可能
- ディレクトリのシンボリックリンクも作成可能
- シンボリックリンクの上書きはできない(同名のシンボリックリンクがある場合、先に`rm`で削除する)

## ls -ilで確認

```
# リンク作成(ハード2つ、シンボリック1つ)
ln original hard1
ln original hard2
ln -s original sym

# ls -ilコマンドで確認(実行結果)
total 12
4176 -rw-r--r-- 3 tomo tomo 23 Apr 18 11:49 hard1
4176 -rw-r--r-- 3 tomo tomo 23 Apr 18 11:49 hard2
4176 -rw-r--r-- 3 tomo tomo 23 Apr 18 11:49 original
2419 lrwxrwxrwx 1 tomo tomo  8 Apr 18 11:50 sym -> original
```

`original`, `hard1`, `hard2`のinode番号(4176)、パーミッション、ハードリンク数(3)、タイムスタンプはすべて同じ。

`sym`はパーミッションの先頭に`l`がついている。


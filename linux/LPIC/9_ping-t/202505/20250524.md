# /etc/rsyslog.conf

`rsyslog`の設定ファイル。

従来のsyslogは、ネットワーク経由でのメッセージ送受信にUDP(ポート512番)を使用しているため、サーバーにログメッセージが届いていることが保証できない問題点があった。

またsyslogは暗号化機能を持っておらず全てのログメッセージが平分で送受信されるため、ログを覗かれる可能性があった。

これらの問題点を克服した次世代のsyslogとして、`syslog-ng(syslog next-generation`や`rsyslog(reliable-syslog)`が登場し、主要ディストリビューションで採用されている。

rsyslogの設定ファイルである、`/etc/rsyslog.conf`はモジュール設定、グルーバル設定、ルール設定にわかれている。

ルール設定の`#### RULES ####`セクションではどのログをどこに出力するかを設定する。

=> 書式: `ファシリティ.プライオリティ アクション`

- ファシリティとプライオリティは`.`でつなぐ
- ファシリティとプライオリティをあわせて`セレクタ`と呼び、セレクタによって扱うログメッセージを特定する
- 全てのファシリティや全てのプライオリティを指定するには`*`を使用
- プライオリティは、指定したレベル以上のログを出力する => `err`を指定すると、`emerg`, `alert`, `crit`, `err`が出力
- 特定のレベルのログだけを指定するには`=プライオリティ`とする
- アクションには出力先を指定 => ファイルであれば絶対パス、外部のsyslogサーバーであれば、`@サーバーアドレス`とする
- アクションの出力先を`/dev/console`と指定すると、ログメッセージはコンソールに表示される
- `;`でつなぐことで、1つのアクションに対して複数のセレクタが指定可能


# カーソル

カーソル操作は、アプリケーションプログラムからデータベースへの問合せによって得られた導入表を、表データを直接扱えない手続き型プログラム言語に渡す機能を実現するもの。

プログラム言語は通常レコード単位の処理を行うのに対し、SQLでは集合単位の処理を行うので、その間をカーソルによって橋渡しする。

SELECT文の結果として得られた複数の行(レコード)を、プログラムの中で1行ずつ順次処理するための仕組み。

- 1 : 宣言(DECLARE) : どのSELECT文の結果を扱うかカーソルに紐づけ
- 2 : オープン(OPEN) : 宣言したカーソルを開き、DBからの結果セットを取得
- 3 : フェッチ(FETCH) : カーソルが指している行のデータを、プログラムの変数に1行ずつ取り出す
- 4 : クローズ(CLOSE) : すべての行の処理が終わった後に閉じる(リソースの解放)


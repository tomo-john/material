# apt-get

Debian形式のパッケージ管理にはAPTツール、またはdpkgツールのコマンドを使用する。

APTツールはdpkgツールを拡張したツール群で、依存関係を調整しながらパッケージ管理を行う。

パッケージをインストール中に作業が予期せず中断され、不完全な状態をなってしまった場合などは、

`-f install`, `--fix-broken install`サブコマンドを用いて、既にシステムに存在する依存関係の問題や不完全なパッケージの修復を行う。

必要に応じてパッケージのダウンロードやインストールも行い、システム全体の整合性の回復を試みる。

```
# 実行例
apt-get -f install
apt-get install -f
```

# HUP

HUG(SIGHUP): ハングアップ(端末の切断による終了)

HUPシグナルは、デーモンプログラムによっては、プログラムの設定ファイルを変更した後その設定ファイルをプロセスに再度読み込ませて

設定を反映させる為に用いられる。

シグナルは`kill`, `killall`コマンドでプロセスに送る。

```
# httpdプロセスに設定ファイルを再度読込ませる場合
killall -HUP httpd
killall -1 httpd
```

# zypper

ZypperはopenSUSE(SUSE Linuxから改名)が採用しているコマンドラインのパッケージ管理ツール。

aptコマンドやyumコマンドのように、zypperコマンドでリポジトリやパッケージの操作を行うことができる。

| サブコマンド                    | 説明                               |
|---------------------------------|------------------------------------|
| install or in パッケージ名      | パッケージのインストール           |
| update or up パッケージ名       | パッケージのアップデート           |
| remove or rm パッケージ名       | パッケージのアンインストール       |
| info パッケージ名               | パッケージの詳細情報の表示         |
| search or se キーワード         | 指定したキーワードでパッケージ検索 |
| list-updates or lu [オプション] | アップデート可能なパッケージの表示 |
| repos or lr                     | リポジトリの一覧表示               |
| refresh                         | リポジトリの更新                   |

# umask

新規に作成されるファイルやディレクトリのデフォルトのパーミッションは、システムのパーミッション初期値を基本とし、

それを「umask値」(初期値から削除する権限の設定)で調整して決定される。

umask値を確認・一時的に変更する場合は、対象ユーザーとしてログインし`umask`コマンドを使用する。

umask値を算出するには、システムのパーミッション初期値(新規ファイルは`666`、新規ディレクトリは`777`)から、

「ユーザーのカテゴリごと」かつ「各権限ごと」に削除すべき権限を計算する。

ファイル作成時とディレクトリ作成時で参照するumask値は同じ。

```
# ファイルとディレクトリを新規作成したときのデフォルトのパーミッションを644と755に設定
umask 022
```

|            | ファイル | 所有ユーザー | 所有グループ | その他 | ディレクトリ | 所有ユーザー | 所有グループ | その他 |
|------------|----------|--------------|--------------|--------|--------------|--------------|--------------|--------|
| umask値が0 | 666      | r w -        | r w -        | r w -  | 777          | r w x        | r w x        | r w x  |
| umask値    | 022      | - - -        | - w -        | - w -  | 022          | - - -        | - w -        | - w -  |
| デフォルト | 644      | r w -        | r - -        | r - -  | 644          | r w -        | r - -        | r - -  |

### パーミッション

| 権限 | ファイル                            | ディレクトリ                                                |
|------|-------------------------------------|-------------------------------------------------------------|
| 読み | ファイルの内容を参照(cat, moreなど) | ディレクトリ内の内容を参照(ls, findなど)                    |
| 書き | ファイルに書き込み(vimなど)         | 新規ファイル作成、既存ファイル変更・削除(touch, mv, rmなど) |
| 実行 | ファイルを実行                      | ディレクトリ内のファイルアクセス、ディレクトリ内へ移動(cd)  |


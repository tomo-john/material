# データとは

## 1.コンピューター中で扱われているもの
コンピューター内部で扱われているものには、大きく分けて`プログラム`と`データ`がある

プログラムは`OS`によって制御され、データを計算したり他のプログラムに渡したりする

### プログラム
コンピューター上で動作するプログラムは、すべて`マシン語(機械語)`になっている

マシン語は直接コンピューターに命令できる言語(16進数のかたまり)

コンピューターのほとんどが`ON`と`OFF`の2進数で処理されている

=> 16進数は1桁で2進数の4ビットまで対応するので可動性が向上する

人間にとってマシン語を扱うのは難しい(読みづらい...)

なので人間にわかりやすいC言語などの各種プログラム言語を使いプログラムを作る

### コンピューターの命令
命令は`オペランド`と`命令コード`によって構成されている

オペランドは1つ、または複数(場合によってはない)で構成され、その内容は命令コードで定められる

命令コードはコンピューターによって異なり、数十から数百以上のコードがある

- 命令コード: 「何をするか」を指示する部分
- オペランド: 「その命令をどこで、どのデータに対して行うか」を示す部分

命令コードを大きく分けると、
- 1: データ転送命令 => レジスタと記憶装置、もしくはレジスタ間でのデータ転送
- 2: 算術演算命令 => 数値やデータの算術演算(四則演算)を行う
- 3: 論理演算命令 => 論理演算やシフト(桁移動)、比較などを行う
- 4: 制御命令 => プログラムの実行順序(分岐や停止など)を変える
- 5: 入出力命令 => 入出力装置との間でデータ転送を行う

レジスタはCPU内部にある記憶領域で、通常のメモリよりはるかに高速に処理することが可能

=> CPUによって数は異なるが、容量は少ない

### データ
データはプログラム内部やプログラム間の計算や制御の元となる要素

コンピュータ内部はトランジスタなどの半導体で構成された集積回路などで構成されており、

電流が流れている(1)と電流が流れていない(0)の2進数で計算・処理をしている

=> 2進数で扱われる単位を`bit(ビット)`という

=> ビットを何個か組み合わせて10進数などのデータを扱えるようにしている

=> 8bitを1単位として、それを`bite(バイト)`という

```
       1 : 1bit
00000001 : 1bite(=8bit)
```

英数字などの文字データは1バイトのコードを組み合わせて表現する

=> ASCII(アスキー)コードやJIS(ジス)コードなど

漢字などの文字データは文字数が多く、1バイトのコードでは表現しきれないため2バイト以上のコード

=> Shift-JISコードやJISコードなど

- 1バイト: 2の8乗で256通りの文字を表現
- 2バイト: 2の16乗で65536通りの文字を表現

国際的な文字コードの規格としては`Uni-CODE(ユニコード)`があり、英語圏以外の各国の文字が表現可能

コンピューターが計算しやすい情報の単位を`word(ワード)`呼び、

4, 8, 16, 32, 64ビットをなどを1単位として扱う

ワードはCPUなどによって異なるがバイトの倍数を使用することが多い

=> 32bitコンピューターはこのワードが32ビットであることを示している

## 2.進数と進数変換
コンピューター内部では2進数で計算されるが、C言語を含むほとんどのプログラムが10進数の他に

16進数、8進数を使用する(バイトの倍数になる16進数や8進数の方がわかりやすい)

### 2進数と10進数
- 2進数: 0と1の2種類で1桁を表現
- 10進数: 0~9の10種類で1桁を表現

2進数から10進数へ
```
# 1100010の場合
1 1 0 0 0 1 0
6 5 4 3 2 1 0 : 桁数

1の箇所だけ基数(2)の桁数が乗数したやつを足す

2^6 + 2^5 + 2^1 = 64 + 32 + 2 = 98

よって2進数: 1100010は、10進数: 98
```

10進数から2進数へ
```
# 192(10進数)を2進数
2で割り続けてあまりを逆から並べる
192 を2で割ると : 96 あまり 0
96  を2で割ると : 48 あまり 0
48  を2で割ると : 24 あまり 0
24  を2で割ると : 12 あまり 0
12  を2で割ると : 6  あまり 0
6   を2で割ると : 3  あまり 0
3   を2で割ると : 1  あまり 1
1   を2で割ると : 0  あまり 1

あまりの数値を下から(逆から並べると) 11000000

よって10進数: 192は、2進数: 11000000
```

### 8進数
0-7までの数字で1桁を表現する

8進数は3ビット(2の3乗)が1つの8進数の数字に対応している

=> 2進数の `000` から `111` が8進数の `0` から `7` に体操している

これはコンピューターが8ビット(1バイト)をよく使用していた時に3ビット単位で区切りやすい8進数が便利であった

### 8ビットの2進数を3ビットずつ区切る

2進数: 11110000 の場合

ポイントは右端から区切ること

```
 11 | 100 | 000
```

3ビットにならない11の左には「0」を保管して11

それぞれ3ビットに分けた2進数を8進数にする

```
011 => 3
110 => 6
000 => 0
```

2進数: 11110000 は、8進数: 360

### 8進数から10進数

2→10とやり方は同じ(基数が8)

8進数: 360

```
3 * 8^2 + 6 * 8^1 + 0 * 8^0 = 192 + 48 + 0 = 240 # 10進数では240
```

### 10進数から8進数

これも2進数の時と同じ

10進数: 254
```
254 / 8 = 31 ... 6
31  / 8 = 3  ... 7
3   / 8 = 0  ... 3

# 8進数で376
```

### 16進数

0から9までの数字とAからFまでのアルファベットの15つで1桁を表現する

2進数 0000 から 1111 までの4ビットが16進数の1桁で表現ができる

### A～F
```
A : 10
B : 11
C : 12
D : 13
E : 14
F : 15
```

### 16 → 10

16進数: FF5733

```
(右から)
3 : 3 + 16^0 => 3  * 1       = 3
3 : 3 + 16^1 => 3  * 16      = 48
7 : 7 + 16^2 => 7  * 256     = 1792
5 : 5 + 16^3 => 5  * 4096    = 20480
F : F + 16^4 => 15 * 65536   = 983040
F : F + 16^5 => 15 * 1048576 = 15728640

(全部足す) 
3 + 48 + 1792 + 20480 + 983040 + 15728640 = 16777203 # 10進数
```

### 10 → 16

10進数: 7777777

```
7777777 / 16 = 486111 ... 1
486111  / 16 = 30382  ... 3
30382   / 16 = 1898   ... 14 (14 => E)
1898    / 16 = 118    ... 10 (10 => A) 
118     / 16 = 7      ... 6
7       / 16 = 0      ... 7

# 16進数で76AE31
```

## 3.C言語でのデータ

### データ型

プログラムで使われるデータは、数バイトをひとまとめにして扱うデータ型という手法を用いる

整数: char, short, int, long

浮動小数点: float, double

整数型の場合、それぞれ`signed型`と`unsigned型`の2つを指定することができ、

signed型は正と負の領域を扱え、unsigned型は正の領域のみ扱うことができる

=> signed型を指定する場合、signedと記述する必要はない

### 補数

char型の場合、1バイト(8ビット)で構成されており、2の8乗で256通りまでの数値を扱うことができる

- signed型: -128~127までの範囲
- unsigned型:0~255までの範囲

signed型の場合、最上位ビット(1番左側のビット)が1の時マイナス領域を示す

この最上位ビットを`符号ビット`と呼ぶ

=> `補数`という手法を用いて計算されている

=> 補数には1の補数と2の補数があるが、現在は2の補数が使用されている

2の補数
- 対象となる数値の絶対値は2進数に置き換える
- 各ビットの0と1を反転する
- 2進数の1(0000 0001)を加算する

```
# -2という数値を2の補数で求める例

10進数の2を2進数にすると 0000 0010

この2進数の各ビットを反転させると 1111 1101

これに 0000 0001(2進数の1)を加算すると 1111 1110

これが-2の2進数
```

### 注意点

表現可能な数値以上のデータを設定しない

例: char型(0~255)で256を設定

char型は1バイトのサイズのデータだが、256は1バイトより大きなサイズを必要とする

=> はみ出たデータがメモリ上の他のデータやプログラムの一部に上書きされることがある(オーバーフロー)


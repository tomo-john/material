# ハイパーバイザー

仮想化とは、コンピュータリソースを実際の物理的な構成にとらわれず、論理的に分割・結合して提供する技術。

仮想化の種類の1つであるハイパーバイザー型は、物理マシンで動作するハイパーバイザー(仮想化のための専用のOS)上で

直接仮装マシンを起動し、ゲストOSを動作させる方式。

物理マシンのハードウェアをエミュレート(模倣)する完全仮想化を実現できる。

ハイパーバイザーがサポートしている種類のゲストOSであれば、LinuxやWindows、macOSなども使用できる。

- ハイパーバイザーがサポートしていれば、動作させるゲストOSの種類に制限はない
- 物理マシン上でハイパーバイザーを起動し、その上で仮装マシンとゲストOSを動作させる

# egrep

主な正規表現

| 記号 | 説明                                                 |
|------|------------------------------------------------------|
| .    | 任意の1文字                                          |
| *    | 直前文字の0回以上の繰り返し                          |
| []   | []内のいずれか1文字                                  |
| -    | 範囲指定 ([]内で使用)                                |
| ^    | 先頭にある場合は後続の文字以外([]内で使用)           |
| ^    | 行頭                                                 |
| $    | 末尾                                                 |
| \    | 次の1文字をエスケープ(通常文字として処理)            |
| +    | 直前の文字の1文字以上の繰り返し(拡張正規表現)        |
| ?    | 直前文字の0回もしくは1回以上の繰り返し(拡張正規表現) |
| \|   | 左右いずれかの文字列(拡張正規表現)                   |

- `a..`: aから始まる3文字(aaa, abc, a77)
- `*.txt: `: 任意の文字列.txt(a.txt, sample.txt)
- `[abc]`: a, b, cのどれか1文字
- `[a-z]`: 小文字アルファベット1文字
- `[^abc]`: a, b, c以外のどれか1文字
- `^a`: aから始まる行
- `a$`: aで終わる行
- `\*`: \*という文字
- `a+`: aを1回以上繰り返す文字列(a, aa, aaa, aaaa)
- `windows?`: windowsのsが0または1文字(window, windows)
- `abc|xyz`: abcまたはxyz 

使用例:

```
egrep 'dog|rabbit' animal.txt
```

animal.txt内から`dog`, `rabbit`という2つの文字列を取り出す。

もしこれを`'[dog|rabbit]'`とすると、d, o, gもしくはr, b, b, i, tのいずれかの文字を含む行を表示することになる。

もしこれを`dog|rabbit`とするとシェルが|をパイプと認識していまいエラーになる。

# ハードリンク

ハードリンクとは、ファイルの実体を直接参照するリンクのこと。

`inode番号`はファイルシステム毎に別々に管理される為、異なるファイルシステムへ ハードリンクを作成することはできない。

同じinode番号でもそれぞれのファイルシステムで異なる実体を指すため。

シンボリックリンクであれば異なるファイルシステムであっても作成することは可能。

ハードリンクの制限:

- ディレクトリのハードリンクは作成できない
- 異なるフィアルシステム(パーティション)にハードリンクは作成できない

シンボリックリンクは、Windowsでのショートカットのようなもの。

元情報のファイルやディレクトリがどこにあるのかというパス情報のみを持っている

元情報を削除・リネーム・移動などさせるとシンボリックリンクは無効になる

# nohub

ログアウト後もバックグラウンドでジョブを実行させるコマンド

`nohub cmd` でcmdがログアウト後も実行される

コマンドの末尾に`&`をつけることで、そのコマンドをバックグラウンドで実行する

```
nohub ping localhost > ping.txt &
```

=> ログアウト後もバックグラウンドでpingが実行される

- `fg`: バックグラウンドで実行中、一時停止中のジョブをフォアグラウンドに切り替える
- `bg`: 一時停止中のジョブをバックグラウンド動作に切り替える
- `Ctrl + z`: ジョブを一時停止する

`cmd` → フォアグラウンドで実行 → `Ctrl + z` → 一時停止(jobsで表示) → `bg` → バックグラウンド(jobsで表示) → `fg` → フォアグラウンド


# NULL

## NULLとは？
NULLはポインタ型変数に特別な値を与えるために使用される定数

主に「何も指していない」状態を示すために使用される

NULLはポインタ型で、ポインタ変数が有効なメモリ位置を指していない

=> 「無効なポインタ」であることを表現する

## NULLの定義
NULLは`<stddef.h>`, `<stdio.h>`のヘッドファイルに定義されており、基本的には0に置き換わる

```c
#define NULL((void*)0)
```
`(void*)0`は「何も指していないポインタ」

## NULLの使い方

### 1.ポインタの初期化
ポインタ変数を初期化する際に、`NULL`を使用してポインタがどのメモリ位置も指していないことを示す
```c
int *ptr = NULL;
```

### 2.ポインタが有効かのチェック
関数からポインタが返される場合、そのポインタが有効かどうかを確認するために`NULL`と比較する
```c
int *ptr = malloc(sizeof(int) * 10);
if (ptr == NULL) {
    printf("メモリの確保に失敗しました。\n");
}
```
### 3.ポインタのリセット
ポインタが不要になった場合やメモリを解放した後、ポインタを`NULL`に設定されることが推奨される

=> 誤って使用されるのを防ぐ
```c
free(ptr);
ptr = NULL;
```

## NULLと0の違い
- NULL: 無効なポインタを表すための定数。ポインタが有効なメモリを指していないことを意味する。
- 0: 通常は数値の0を意味する。条件式では`偽`を表す。ポインタではNULLのように何も指していないポインタを示す
=> `0`を直接ポインタに使用するのは非推奨、明確に`NULL`を使うのが一般的

## NULLポインタの例
```c
#include <stdio.h>
int main() {
    int *ptr = NULL;

    if (ptr == NULL) {
        printf("ポインタは何も指していません。\n");
    }

    return 0;
}
```

## NULLを使う場面
- 1.メモリの動的確保: `malloc()`や`calloc()`でメモリ確保が失敗した場合に`NULL`が返される
- 2.関数からポインタを返す: 有効な値がない場合に`NULL`を返すことでエラーを示す
- 3.リソース解放後のポインタ処理: `free()`でメモリ解放後、ポインタを`NULL`にして再利用防止


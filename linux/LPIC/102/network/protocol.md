# プロトコル

通信を行う上での取り決めをプロトコルという。

現在、企業や家庭内のLANやインターネットで使われる最も一般的なプロトコルが`TCP/IP`。

## TCP/IP

TCPとIPは別々のプロトコルだが、これにUDPなどの関連プロトコルを含め、プロトコル群として`TCP/IP`と総称している。

| TCP/IP層                       | 役割の概要                                    | 主なプロトコル例                  |
|--------------------------------|-----------------------------------------------|-----------------------------------|
| アプリケーション層             | ユーザーが使う通信サービスを提供              | HTTP, FTP, SMTP, DNS, SSH, TELNET |
| トランスポート層               | アプリ間の通信管理(データ分割や順序など)      | TCP, UDP                          |
| インターネット層               | IPアドレスで通信相手を特定・ルーティングなど  | IP, ICMP                          |
| ネットワークインターフェース層 | 実際のネットワーク機器と通信(LANケーブルとか) | イーサネット, ARP                 |

## TCP(Transmission Control Protocol)

信頼性の高い通信を実現するためのコネクション型のプロトコル。

コネクション型とは、相手に通信データが正しく届いていることを確認しながら通信するもの。

=> 信頼性が高くなる

代表的な機能:

- 途中で消失やエラーが発生したパケットを再送
- パケットの伝送順序を整列

## IP(Internet Protocol)

TCPやUDP、ICMPなどのデータ転送(ルーティング)をつかさどるコネクションレス型のプロトコル。

コネクションレス型とは、相手に通信データが正しく届いているかどうかを確認せず一方的に送信するもの。

=> 信頼性は低くなるが伝達速度は速くなる

代表的な機能:

- IPアドレスの規定
- データグラム(伝送単位)の規定
- データグラムが転送されるネットワーク経路の制御

## IPv6

現在一般的に使われているIPプロトコルのバージョンは4(IPv4)だが、これを拡張したもの。

- IPv4 : アドレス部分を`32`ビットで構成
- IPv6 : アドレス部分を`128`ビットで構成

## UDP(User Datagram Protocol)

データの転送速度に重点を置いたコネクションレス型のプロトコル。

相手に通信データが正しく届いているか確認する機能はないが、その分通信の処理にかかるコストが少なく済む。

音声や映像のストリーミング配信で利用される。

## ICMP(Internet Control Message Protocol)

エラーメッセージや制御メッセージを伝送するコネクションレス型のプロトコル。

`ping`, `traceroute`コマンドで利用される。


# 磁気ディスク

磁気ディスクのアクセス時間 : `平均シーク時間 + 平均回転待ち時間 + データ転送時間`

=> 前後の処理時間は含まない

## 平均シーク時間(シークタイム)

磁気ディスクのヘッドが、目的のデータが保存されている位置まで移動するのにかかる時間の平均。

## 平均回転待ち時間(サーチタイム)

ヘッドの移動が完了した後、読み出すレコードの先頭がヘッドの位置まで磁気ディスクが回転してくれるのを待つ平均時間。

ディスクが1回転するのにかかる時間の`半分`が平均回転待ち時間となる。

## データ転送時間

目的のデータを読み出すのにかかる時間。

1トラックとは1回転のこと。

1トラックまるまる読み取るなら、1回転にかかる時間かかる。

1トラックの半分だけ読み取るなら、1回転にかかる時間の半分。

1トラックの2/3だけ読み取るなら、1回転にかかる時間の2/3。

1回転するのにかかる時間が10ミリ秒だとする。

1トラックの記憶容量が10,000バイト、1ブロックが2,000バイトのデータを転送する時間を考える。

1トラック(1回転)が10,000バイトなので、2,000バイト読み取るの要する時間は`10ミリ秒 x (2,000 / 10,000)`

=> 2ミリ秒だと求めることができる :dog:

仮に、アクセス時間を求めるなら、このデータ転送時間に、シークタイムとサーチタイムを足す。

=> シークタイムが仮に20ミリ秒とすると、`2(データ転送) + 20(シーク) + 5(サーチ:1回転10ミリ秒の半分) = 27ミリ秒`

## シリンダ(Cylinder)

複数枚のディスクの同じトラック番号を縦に束ねたもの。

データがシリンダ内に連続して記録されていれば、ヘッドを動かすことなく(シークタイムゼロ)次の盤面データを読み取れるので高速。

## ブロック(Block)

磁気ディスクにおけるデータの読み書きや管理の最小単位。

## その他

データの転送速度は、回転速度とトラックあたりの記憶容量で決まる。

磁気ディスク装置の記憶容量は、`トラック当たりの記憶容量 x 1シリンダ当たりのトラック数 x シリンダ数`で決まる。

---

## 例題

> 回転速度が5,000回転/分、平均シーク時間が20ミリの磁気ディスク。
> この磁気ディスクの1トラック当たりの記憶容量は、15,000バイト。
> 1ブロックが4,000バイトのデータを、1ブロック転送するのに必要な平均アクセス時間は何ミリ秒？

回転速度が5,000回転/分が1回転するのに必要な時間を求める。

`60(秒) / 5000(回転) = 0.012 => 12 x 10^-3 => 12ミリ秒` 

平均回転待ち時間は、ディスク1回転の半分。

`12(ミリ秒) / 2 = 6ミリ秒`

データ転送時間は、1トラック(1回転)が15,000バイトなの。

つまり、1回転する時間の`4,000 / 15,000`で求める。

`12(ミリ秒) x 4,000(バイト) / 15,000(バイト) = 3.2ミリ秒`

- 平均シーク時間 : 20ミリ秒 (問題に書いてる)
- 平均回転待ち時間 : 6ミリ秒 (1回転にかかる時間求めて2で割るだけ)
- データ転送時間 : 3.2ミリ秒 (1トラックが1回転ということ)

全部足すと答えは`29.2ミリ秒`


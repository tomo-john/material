# lpr

line printer remoteの略で昔からあるUNIX系の印刷コマンド。

ファイルを印刷するときに使用するコマンド。

指定されたファイルや標準入力をプリントキューに送る。

## オプション

| オプション    | 説明                     |
|---------------|--------------------------|
| -#部数        | 印刷部数の指定           |
| -P プリンタ名 | 印刷を行うプリンタを指定 |

---

# lpq

プリントキューの内容を表示するコマンド。

=> 印刷ジョブはプリントキューに入り順番に処理されていく

```
lpq [オプション] [ユーザー名] [ジョブ番号]
```

=> `-P`でプリンタの指定が可能

- RANK列 : 印刷ジョブの状態(`active`は印刷中、印刷待ちのものは何番目か)
- Owner列 : 印刷を指示したユーザー
- Job列 : 印刷ジョブ番号
- Files列 : 印刷対象になったファイル名
- Total Size列 : プリントキュー内でのファイルサイズ

---

# lprm

プリントキューにある印刷要求を削除するコマンド。

ユーザーは自分の発行した印刷要求のみ、rootはすべての印刷要求を削除できる。

```
lprm [オプション] [ジョブ番号]
```

=> ジョブ番号は`lpq`コマンドで確認

=> `-P`でプリンタ指定

=> `-`オプションで(自分が要求した)すべての印刷要求を削除

---

# BSD系の伝統

`lpr`, `lpq`, `lprm`は昔のBSD(Berkely Software Distribution)系Unixで使われていた印刷システム。

これに対し、System V系では`lp`, `lpstat`, `cancel`コマンドがよりモダンで高機能なコマンドとして存在する。

=> ほとんどのディストリビューションではどちらのコマンドも使用できる(CUPSが互換性のためにサポートしてくれている)

# 印刷関連コマンド

| 機能                                       | CUPS   | レガシー |
|--------------------------------------------|--------|----------|
| 印刷(印刷ジョブ作成・プリントキューに登録) | lp     | lpr      |
| 削除(プリントキューにある印刷ジョブを削除) | cancel | lprm     |
| 表示(プリントキューにある印刷ジョブを表示) | lpstat | lpq      |

### fileを10部印刷

```
lp -n 10 file
lpr #10 file
```

### プリンタAの印刷ジョブをすべて削除

```
cancel -a PrinterA
```


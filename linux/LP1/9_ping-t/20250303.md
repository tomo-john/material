# YUM

YUMツールのリポジトリ設定については以下のとおり。

- ネットワーク経由で、依存関係を解決しながら最新のパッケージを取得できる
- リポジトリの設定ファイルでは変数`$releaserver`, `$basearch`を活用している
- 各リポジトリごとの詳細設定ファイルを`/etc/yum.repos.d`ディレクトリ内に配置する

# parted

1. パーティションテーブルの作成

```
(parted) mklabel [パーティションテーブル]
```

`mklabel`サブコマンドで、パーティションテーブルの方式を指定する。(未指定の場合はMBR形式として動作)

MBR形式を明示的に指定する場合は、`msdos`を指定する。

2. パーティションの作成

```
(parted) mkpart [パーティションタイプ ファイルシステム種別 パーティション名] 開始位置 終了位置
```

`mkpart`サブコマンドで、パーティションを作成する。

パーティションタイプはMBR形式で指定可能で、primary(基本)、extended(拡張)、logical(論理)を指定する。

```
# 先頭にext4ファイルシステムとして利用する1つの1000MBの基本パーティションを作成する
(parted) mkpart primary ext4 1 1000MB
```

3. 作成されたパーティションの確認

`print`サブコマンドで作成されたパーティションを確認することができる。

# makewhatis

オンラインマニュアルページ(manページ)に関する情報を蓄積するデータベースを作成・更新するコマンド。

=> updatewhatisではなくmakewhatisコマンドで更新も行う

- man -k: キーワードに一部一致するコマンドのファイルやmanページを一覧表示(apropos)
- man -f: キーワードに完全一致するコマンドのファイルやmanページを一覧表示(whatis)

# zypper

アップデート可能なパッケージの表示を行うのは`zypper list-updates` => `s`がいる。

`zypper list-update`はだめ。

```
zypper list-updates
zypper lu
```

# fsck

ファイルシステムのチェック、および問題を修復するコマンド。

- -a: 問題を`自動的`に修復
- -r: 問題を`対話的`に修復

```
# ext3ファイルシステムの/dev/sda4の整合性をチェックし、障害箇所を対話的に修復
fsck -r -t ext3 /dev/sda4
```

- -A: /etc/fstabに記述されている全ファイルシステムに対して実行
- -N: 実際には実行せず、実行する内容を表示

# free

メモリやスワップ領域の使用状況を表示するコマンド。

`top`コマンドの実行結果にもメモリやスワップ領域の使用状況が含まれている。

`uptime`コマンドはシステムの稼働時間や負荷平均などを表示するコマンドで、メモリやスワップ領域の使用状況は表示しない。

# head

指定したファイルの先頭部分を表示するコマンド。

- -行数: 指定した行数をファイルの先頭から表示
- -n 行数: 指定した行数をファイルの先頭から表示
- -c バイト数: 指定したバイト数をファイルの先頭から表示

# Linuxカーネルの主な起動オプション(GRUB Legacy)

| 起動オプション  | 説明                                     |
|-----------------|------------------------------------------|
| init=パス       | initの代わりに指定コマンドを実行         |
| root=デバイス名 | ルートパーティションを指定               |
| 数字(0-6)       | 指定したランレベルで起動                 |
| quiet           | 起動中のカーネルからの情報出力を抑制する |

# プロセス

プロセスに割り込みシグナルを送信し、プロセスを終了させる方法は以下のとおり。

- killまたはkillallコマンドでINT(SIGINT)シグナルを送信する
- Ctrl+Cキー

INT(SIGINT)シグナルのシグナル番号は2。

# rpm -qRp

- -q(--query): 指定したパッケージがインストールされているかを照会
- -R(--requires): 指定したパッケージが依存するファイルの表示
- -p(--package): 照会対象をパッケージファイルとする

# mount

mountコマンドはオプション、デバイス、マウント先のいずれも指定しなかった場合(mountだけを実行)は、現在マウントされているファイルシステムの一覧が`/etc/mtab`ファイルの情報を元に表示される。

`proc/self/mounts`と`/proc/mounts`ファイルにも現在マウントされているファイルシステムの情報が格納されている。


# ファイルの書き込み
ファイルの書き込みに関する関数は`fputc`, `fputs`, `fprintf`, `fwrite`の4種類

ファイルオープン時に書き込みモードか読み書きモードの指定が必要

## 1.fputc
定義: `fputc (int 出力文字, FILE *ファイルポインタ);`

使用: `nrtn = fputc(nc1, fp);`

fputcは現在のファイル位置から1文字分データを書き込む

- ファイルポインタはfopen時に返されるファイルポインタ変数を指定
- リターンは書き込みが成功すると出力文字のコードが代入、失敗するとEOFが返ってくる
- 書き込みに成功すると現在のポジションより1文字分移動

```c
#include <stdio.h>

int main(){
  FILE *fp1;
  FILE *fp2;
  char szfname1[] = "ky106.c";
  char szfname2[] = "ky106.txt";
  int ndata;

  fp1 = fopen(szfname1, "r");
  if(fp1 == NULL){
    printf("ファイル1のオープンに失敗");
    return 1;
  }
  fp2 = fopen(szfname2, "w");
  if(fp2 == NULL){
    printf("ファイル2のオープンに失敗");
    return 1;
  }
  
  while(1){
    ndata = fgetc(fp1);
    if(ndata == EOF){
      break;
    }
    fputc(ndata, fp2);
  }

  fclose(fp1);
  fclose(fp2);
}
```

## 2.fputs
定義: `int fputs(const char *出力文字列, FILE *ファイルポインタ);`

使用: `nrtn = fputs(szout, fp);`

fputsは現在のファイル位置から1文字列分のデータを書き込む

- ファイルポインタはfopen時に返されるファイルポインタ変数を指定
- リターンは書き込みが成功すると0以上の数値が代入され、失敗するとEOFが返ってくる
- 書き込みに成功すると現在のポジションより書き出されたバイト分移動する

```c
#include <stdio.h>

int main(){
  FILE *fp1;
  FILE *fp2;
  char szfname1[] = "ky107.c";
  char szfname2[] = "ky107.txt";
  char szdata1[81];

  fp1 = fopen(szfname1, "r");
  if(fp1 == NULL){
    printf("ファイル1のオープンに失敗");
    return 1;
  }
  fp2 = fopen(szfname2, "w");
  if(fp2 == NULL){
    printf("ファイル1のオープンに失敗");
    fclose(fp1);
    return 1;
  }

  while(fgets (szdata1, 81, fp1) != NULL)
    fputs(szdata1, fp2);

  fclose(fp1);
  fclose(fp2);
}
```


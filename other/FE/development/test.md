# テスト

## ホワイトボックステスト

- 単体テストでは通常ホワイトボックステストを行う

入力したデータが、意図どおりに処理されているかを、プログラムの内部構造を分析して確認するテスト手法。

プログラムに記述されているすべての処理を実行し、動作を確認する。

### テストケース

`入力`と`期待される出力`の組み合わせ。

ホワイトボックステストでは、流れ図(フローチャート)に記載されているすべての経路を網羅できるテストケースを用意するのが理想。

=> 大きなプロジェクトではすべての経路を網羅するテストケースを用意するのは現実的ではない

=> 網羅性(網羅の程度)が重要となる

| レベル | 名前                   | 内容                                                           |
|--------|------------------------|----------------------------------------------------------------|
| 1      | 命令網羅               | すべての命令(文)を1回以上実行すること(判定条件は考慮しない)    |
| 2      | 判定条件網羅(分岐網羅) | すべての分岐(ifなど)の真と偽を1回以上通ること                  |
| 3      | 条件網羅               | 複数条件がある場合、個々の条件式が真と偽の両方になるように実行 |
| 4      | 判定条件/条件網羅      | 判定条件網羅と条件網羅を組み合わせたテスト                     |
| 5      | 複数条件網羅           | すべての条件の真と偽の組み合わせを1回以上実行するテスト        |

## ブラックボックステスト

- 結合テスト・システムテストでは主にブラックボックステストを行う

入力と出力だけに着目し、ある入力に対して仕様書どおりの出力が得られるかを確認するテスト手法。

処理の過程ではなく結果を見る。

### 各テストのメリットとデメリット

| 種類     | メリット                           | デメリット                               |
|----------|------------------------------------|------------------------------------------|
| ホワイト | すべての処理(分岐経路)を検証できる | プログラマの誤解によるバグは見つけれない |
| ブラック | 使用どおりに動作するか検証できる   | すべてのテストケースを検証した保証はない |

## トップダウンテストとボトムアップテスト

結合テストで使用される。モジュール同士を組み合わせてテストする。

=> モジュールはプログラムを機能で分けた単位

モジュールはそのコードの中で別のモジュールを読み出す。

このときの呼び出し元が上位モジュールで、呼び出し先が下位モジュールとなる。

トップダウンテストでは上位モジュールから下位モジュールへと順にテストをしていく方法。

この場合は下位モジュールが未完成の場合はテストができない。

トップダウンテストでは`スタブ`と呼ばれるダミーの下位モジュールを用意する。

スタブには、テスト対象のモジュールがスタブを呼び出しても正しく動作が進むように、簡単な戻り値などを設定しておく。

ボトムアップテストでは下位モジュールから上位モジュールへと順番にテストしていく方法。

このときに、ダミーの上位モジュールとして用意するのが`ドライバ`。


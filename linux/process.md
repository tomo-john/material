## プロセス
実行中のプログラム => プロセス

プロセスには固有のプロセスIDが付与される

- `ps` : プロセス情報を表示
- `top` : プロセスの実行状況をモニタ
- `kill` : プロセスを終了させる

### プロセス
プログラムはファイル形式でストレージに保存されている

プログラムを実行するとメモリ上に読み込まれ、CPUによって実行される

=> メモリ上で実行中のプログラムを `プロセス` と言う

### ps
```
# オプション
a : 他ユーザーのプロセスも表示
u : ユーザー名を表示
x : 端末以外のプロセス(サーバープロセスなど)も表示

# 表示項目
PID  : プロセスID
TTY  : プロセスを実行した端末名
TIME : プロセスの実行時間
CMD  : 実行コマンド
```

### pstree
プロセスは実行中の他のプロセスから起動される => `フォーク`　という

起動元が親プロセス、親プロセスが起動したプロセスが子プロセス

プロセスの親子関係は `pstree` コマンドで確認できる

### top
プロセスの実行状況のモニタリングができる

`top` コマンドを実行すると画面がモニタリング画面へ切り替わる

```
# topの主な表示項目
PID     : プロセスID
USER    : プロセス実行ユーザー
%CPU    : CPUを消費している割合
%MEM    : メモリを消費している割合
COMMAND : 実行されているコマンド
```

### プロセスの終了
明確に終了を指示しなければ動作し続けるプロセスもある

プロセスに送る信号のことを `シグナル` という

シグナルを送信するには `kill` コマンドを使用する

```
# 主なシグナル
KILL(9)  : 強制終了
TERM(15) : 終了(デフォルト)
CONT(18) : 再開
STOP(19) : 一時停止
```
### kill
```
kill -[シグナルID] プロセスID
kill -s [シグナルID] プロセスID

# デフォルトではTERMシグナルが送られる(シグナル指定なし)
kill 28000

# KILLシグナルを送る(強制終了)
kill -9 28000
kill -s KILL 28000
=> KILLシグナルは最後の手段(TERMシグナルが有効にならなかった時)
```
プロセスIDを指定する必要があるためあらかじめプロセスIDを確認しておく必要あり

ユーザーは自身が実行したプロセスのみ終了させることができる

rootユーザーはすべてのプロセスを終了させることができる

### killall
プロセス名を指定してシグナルを送ることができる

```
# vimというプロセスを終了
killall -15 vim
=> 同じ名前のプロセスが複数実行されている場合は全てにシグナルが送られるので注意
```


# 2025/4/18 101 模擬試験

正解 52 / 60 正解率 86%

---

# ハードリンク

```
ln リンク元ファイル リンク先ファイル
```

ハードリンクはすべて同じ実体を参照するのでファイル名以外の以下は同じになる。

- inode番号
- パーミッション
- ハードリンク数
- 所有ユーザー・グループ
- ファイルサイズ
- タイムスタンプ

これらの情報は`ls -il`で確認が可能。

ハードリンクが作成できない条件は以下。

- ディレクトリ : 無限循環のディレクトリができる場合がある
- 異なるファイルシステムのファイル : inode番号はファイルシステムごとに異なる

=> シンボリックリンクであれば、ディレクトリや異なるファイルシステムのファイルであってもシンボリックリンクを作成することは可能

---

# 正規表現

- `+` : 直前文字の1回以上の繰り返し
- `?` : 直前文字の0回もしくは1回の繰り返し
- `|` : 左右いずれかの文字列

```
grep -E 'bu?!' file
```

この場合、`bu?!`でマッチするのは`b!`(uを0回繰り返し)と`bu!`(uを1回繰り返し)の2パターン。

正規表現とシェルが解釈するメタキャラクタでは意味が異なるので注意。

=> `?`はメタキャラクタでは`任意の1文字`

---

# GRUB2(menuentry)

カーネルイメージ、ルートパーティションの指定などは`/etc/grub.d`ディレクトリ内のファイルで行う。

=> 変更内容は`grub-mkconfig`コマンドで`/boot/grub/grub.cfg`ファイルに反映させる

=> `/etc/default/grub`ファイルは基本設定を記述するファイル

=> `/etc/grub.d`ディレクトリにはGRUBメニューの構成パーツをスクリプトで管理している場所

=> カスタム設定を記述するなら`/etc/grub.d/40_custom`

- menuentry : メニューに表示するエントリ名の指定
- insmod : ロードするモジュールの指定
- set : 設定項目を指定するキーワード

---

# ~

`~`はホームディレクトリを表す特殊記号。

`cd ~`とするとコマンドを実行したユーザーのホームディレクトリに移動する。(`cd`だけでも同じ)

`~user`と指定すると`user`のホームディレクトリを表す。

---

# vim(カーソル移動)

- H : 画面の最上行
- L : 画面の最下行 => Last line on the window

---

# ファイルシステム

動的inode機能を持つファイルシステムは`JFS`や`XFS`などがある。

=> ext2, ext3, ext4にはない

動的inodeとは、ファイル作成時にinode番号を動的に割り当てる機能のこと。

inodeを動的に割り当てるので、inode数に制限がない。

動的inodeの機能がないファイルシステムでは、inodeはファイルシステム作成時に作成され、増やすことができない。

=> ディスクの空きが大量にあっても、使用可能なinodeがなくなるとファイルの新規作成ができなくなる

---

# systemd(シングルユーザーモードからの起動)

systemdの動作するシステムにおいて、`systemctl rescue`でシングルユーザーモードに変更、その後通常の起動状態に戻す:

- systemctl default
- systemctl reboot
- Ctrl + D


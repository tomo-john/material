# perl memo

## $| = 1;

これは出力のバッファリングを無効にするという設定。

Perlでは通常、標準出力(`print`など)はバッファリングされる。

→ ある程度たまってからまとめて表示されることがある

`$| = 1`は「バッファを使わず、即座に出力」する設定。

とくにリアルタイムでログを見たり、プロセス間通信をしているときに便利。

## $SIG{PIPE} = sub { print "Pile Broken\n" };

これはシグナルハンドラの設定。

- `PIPE`というのは、パイプで接続された相手が先に閉じた場合に発生するシグナル(`SIGPIPE`)。

  通常はこのエラーはPerlプロセスに落とすが、`$SIG{PIPE}`にハンドラ(ここでは無名関数)を設定しておくと、「代わりにこの処理してね」と指定ができる。

つまり、この行は「パイプ先が壊れても、死なずに`"Pipe Broken"`って表示して終わってね」という意味。



# 1.ハードウェアの認識と管理

1.1 `dmesg`コマンド

- `dmesg`コマンドはカーネルがシステム起動時やデバイス接続時に出力するメッセージ表示
- システムのハードウェア情報や、カーネルによるデバイス認識状況を確認できる
- 例: `dmesg | grep -i usb`(USBデバイスに関するメッセージ表示)

1.2 `/proc`ファイルシステム

`/proc`は仮想ファイルシステムで、システムに関するさまざまな情報(CPU, メモリ, デバイスなど)を確認できる

- `/proc/cpuinfo`: CPUに関する情報
- `/proc/meminfo`: メモリに関する情報
- `/proc/interrups`: システムで発生する割り込みに関する情報
- `/proc/ioports`: 入出力ポートに関する情報

1.3 デバイスファイル

Linuxではハードウェアデバイスは`デバイスファイル`として表現され、`/dev`ディレクトリに配置

- ブロックデバイス: データをブロック単位で読み書きするデバイス(HDD `/dev/sda`など)
- キャラクタデバイス: データを1バイトずつ読み書きするデバイス(シリアルポート `/dev/ttys0`など)

# 2.ハードウェアデバイスの管理

2.1 `lsblk`コマンド

- システム内のブロックデバイス(ディスクやパーティション)のツリー状の構造を表示
- 例: `lsblk`(すべてのブロックデバイスのリストを表示)

2.2 `lspci`コマンド

- PCIバスに接続されたデバイス(ネットワークカード・グラフィカルカードなど)をリストする
- 例: `lspci`(PCIデバイスの一覧を表示)

2.3 `lsusb`コマンド

- USBデバイスのリストを表示
- USBハブ、ストレージデバイス、プリンターなどのデバイスを確認する際に便利
- 例: `lsusb`(USBデバイスの一覧表示)

2.4 `lscpu`コマンド

- システムのCPUに関する情報を表示
- プロセッサのアーキテクチャやコア数などを確認できる
- 例: `lscpu`(CPUの詳細情報を表示)

# 3.Udevとデバイス管理

3.1 Udevの役割

- `udev`はLinuxシステム上でデバイスを動的に管理するためのデバイスマネージャー
- 新しいデバイスが接続された際に、`udev`がデバイスファイルを`/dev`に自動的で作成

3.2 `udevadm`コマンド

- `udev`の動作を管理するコマンドで、デバイスイベントの監視や`udev`設定リロードに利用
- `udevadm info --query=all --name=/dev/sda`: デバイスに関する詳細情報を表示
- `udevadm monitor`: デバイスの接続や取り外しのリアルタイムイベントを監視

# 4.ハードウェアリソースの割り当て

4.1 IRQ(割り込み要求)

- 各ハードウェアデバイスは、プロセッサからの割り込み要求(IRQ)を利用して、CPUにデータ処理を要求する
- IRQの割り当てを確認するためには、`/proc/interrups`ファイルを確認できる

4.2 I/Oポート

- ハードウェアデバイスとCPUが通信する際に、特定のI/Oポートを使用する
- ポートの割り当て状況は、`/proc/ioports`で確認できる

4.3 DMA(ダイレクトメモリアクセス)

- CPUを介さずにデバイスがメモリに直接データを転送するための仕組み
- CPUリソースを節約し、効率的なデータ転送が可能

# 5.ディスクとパーティション管理

5.1 `fdisk`コマンド

- ディスクのパーティションを管理するためのツール
- パーティションの作成や確認ができる
- `sudo fdisk /dev/sda`: /dev/sdaディスクのパーティションテーブルを操作

5.2 `parted`コマンド

- ディスクのパーティションを管理するためのツールで、`fdisk`に比べ大容量(2TB以上)のサポートに優れている

5.3 `mount` / `umount`

- デバイスをファイルシステムにマウントするために使用
- デバイスを指定したディレクトリにマウントすることで、ユーザーがファイルにアクセスできる
- `umount`はデバイスをアンマウントする


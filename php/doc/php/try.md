# 例外処理(try/catch)

エラーが出ても止めずに処理を継続する仕組み。

データベース接続失敗、ファイルが見つからない、書込めない、数値計算で異常...

みたいなときにPHPを止めずにどう対処するかを自分で決められる。

`try-catch`は主に3つのブロックで構成されている。

| ブロック  | 役割 | 動き                                                                     |
|-----------|------|--------------------------------------------------------------------------|
| `try`     | 試行 | ここに書かれたコードを実行してみる                                       |
| `catch`   | 捕獲 | `try`でエラー発生時、処理を中断してここに飛び込む                        |
| `finally` | 最終 | `try`が成功しても、`catch`でエラー処理しても必ず実行したい処理(省略可能) |

```
try {
  echo 10 / 0; // エラー
} catch (Exception $e) {
  echo '割り算に失敗しました。';
}
```

## Exception

例外(Exception)とはPHPでエラーが起きたとき、その情報を丸ごと詰めて投げてくるモノ。

- 何が起きた？
- どのファイル？
- どの行？
- エラーメッセージは？

などが全部入ってるエラーの箱みたいなもの。

### catchの(Exception $e)の意味

- Exception型のエラーが飛んできたら受け取る
- その内容を`$e`という変数に入れる

`PDOException`はPDO(DB接続)専用のエラータイプ。

=> PDOで何か失敗したら必ずこれが飛んでくる

`catch (PDOException $e)`はDB関連のエラーだけ捕まえるという意味。


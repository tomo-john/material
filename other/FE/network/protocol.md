# 通信プロトコル

プロトコルとは、コンピューター同士がデータをやり取りする際の約束事や手順のこと。

通信プロトコルは、ネットワーク機器(コンピューター)がデータを送受信する際に従うべき約束事や手順。

## OSI基本参照モデルとTCP/IP

OSI基本参照モデル(Open Systems Interconnection Basic Reference Model)とは通信プロトコルやネットワーク機器が持つべき機能を7つに分類して階層化したモデル。

ISO(International Organization for Standardization : 国際標準化機構)により作られた通信のルール。

| 階層 | 名称                 | 主な役割・例                                        |
|------|----------------------|-----------------------------------------------------|
| 7    | アプリケーション層   | ユーザーの操作やアプリとネットの接点(例：HTTP, FTP) |
| 6    | プレゼンテーション層 | データ形式の変換(例：文字コード変換、暗号化)        |
| 5    | セッション層         | 通信の開始・終了・再開の制御(例：ログイン管理)      |
| 4    | トランスポート層     | 信頼性のある通信(例：TCP、UDP)                      |
| 3    | ネットワーク層       | IPアドレスでの中継(例：IP、ルーター)                |
| 2    | データリンク層       | MACアドレスでの通信(例：スイッチ)                   |
| 1    | 物理層               | ケーブルなど物理的な伝送(例：LANケーブル、電気信号) |

=> ありえない プレゼント せっかく トモダチに ねだったのに できそこない ブチ壊し :dog:

=> これが次のTCP/IPの大元みたいなイメージ(実際のインターネットではTCP/IPが使用されている)

## TCP/IP

OSI基本参照モデルをさらにシンプルにしたモデル。

実際のインターネットではTCP/IPが使用されている。

TCPもIPもそれぞれあくまで通信プロトコルの1つ。

TCP/IPという名前は通信プロトコルを階層的にまとめた設計モデルのことを指す。

OSI層では7層に分かれていたが、TCP/IP層では4層に分類される。

| TCP/IP層                       | OSI層に相当  | 主なプロトコル       | 代表的なネットワーク機器  |
|--------------------------------|--------------|----------------------|---------------------------|
| アプリケーション層             | OSIの 5〜7層 | HTTP, FTP, SMTP など | ゲートウェイ              |
| トランスポート層               | OSIの 4層    | TCP, UDP             | ゲートウェイ              |
| インターネット層               | OSIの 3層    | IP, ICMP             | ルーター・レイヤ3スイッチ |
| ネットワークインターフェース層 | OSIの 1〜2層 | Ethernet, ARP など   | ブリッジ・リピータなど    |

## ネットワーク機器

| 機器名           | 主な役割                           | OSI層               | 特徴・備考                                         |
|------------------|------------------------------------|---------------------|----------------------------------------------------|
| リピータ         | 信号の増幅・再生                   | 物理層(1層)         | ノイズも含めて信号を再生するだけ                   |
| リピータハブ     | 複数ポートつきリピータ             | 物理層(1層)         | 受け取った信号を全ポートに送信                     |
| ブリッジ         | LANを分割・中継                    | データリンク層(2層) | MACアドレスで中継元を判断、セグメント分割に使う    |
| スイッチングハブ | ブリッジの多ポート版               | データリンク層(2層) | 各ポートに転送、MACアドレス学習あり                |
| レイヤ2スイッチ  | スイッチングハブと同じ             | データリンク層(2層) | VLAN機能なども持つ                                 |
| レイヤ3スイッチ  | ルーター機能も一部備えるスイッチ   | ネットワーク層(3層) | IPアドレスを理解して異なるネットワーク間を転送可能 |
| ルーター         | 異なるネットワークの接続・経路選択 | ネットワーク層(3層) | IPアドレスで転送先を判断、経路選択可能             |
| ゲートウェイ     | 異なるプロトコル間を中継           | 上位層(4～7層)      | TCP/IPと他プロトコルを変換                         |


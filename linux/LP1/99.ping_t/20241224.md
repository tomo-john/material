# systemdのランレベル/ブートターゲット

システム起動時に最初に読込まれるUnitは`/etc/systemd/system/default.target`。

`default.target`をSysVinitでのランレベルに相当するUnitへのシンボリックリンクを作成することで、期待するサービル群を起動できるようになる。

| ランレベル | ターゲット        |
|------------|-------------------|
| 0          | poweroff.target   |
| 1          | rescue.target     |
| 2,3,4      | multi-user.target |
| 5          | graphical.target  |
| 6          | reboot.target     |

これらのターゲットは`/lib/systemd/system`配下に格納されている。

SysVinitとの関連がわかりやすいように、runlevel0.target～runlevel6.targetまでのシンボリックリンクも用意されている。

```
# systemdが稼働するシステムにおいて、次回起動時のランレベルの確認
cd /etc/systemd/system
ls -l default.target
```

# ハードディスクのレイアウト設計

論理ボリュームを作成する際の主な手順は以下のとおり。

- 物理ボリューム(PV)の作成: pvcreateコマンド
- ボリュームグループの作成: vgcreateコマンド
- 論理ボリューム(LV)の作成: lvcreateコマンド

pvcreate → vgcreate → lvcreate

```
# /dev/sdc1と/dev/sdd1を物理ボリューム(PV)として初期化
pvcreate /dev/sdc1 /dev/sdd1

# /dev/sdc1と/dev/sdd1から新しいボリュームグループ(VG1)を新規に作成
vgcreate vg1 /dev/sdc1 /dev/sdd1 

# vg1から容量100MB(-L 100MB)で名前がlv1(-n lv1)という論理ボリューム(LV)を作成
lvcreate -L 100MB -n lv1 vg1
```

作成した論理ボリュームを実際に使用するには`mkfs`コマンドで論理ボリュームにファイルシステムを作成し、`mount`コマンドでマウントする。


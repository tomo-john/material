# GnuPG

### 共通鍵暗号方式

暗号化と複合に共通の鍵を使用する。

処理が早くて簡単だが、複数の相手に同じ共通鍵を使用すると他の人のデータも複合できてしまうので、データを送信する相手ごとに鍵を作成するべき。

### 公開鍵暗号方式

公開鍵を使って暗号化したものをペアとなる秘密鍵で複合する。

送信者は暗号化ファイルを送りたい相手の公開鍵でファイルを暗号化して相手に送る。

暗号化ファイルを受け取った受信者は、自分の秘密鍵で複合を行う。

正しい鍵ペアの場合のみ複合できるので、送信者も受信者も安全にデータの受け渡しができる。

# journalctl

- `-l(--full)` : 画面表示可能なすべてのログを表示 => 各Unitが出力する表示可能なログ
- `-n(--lines)` : 直近のログから指定行数分を表示 => 行数未指定時のデフォルトは10行

---

# IPv6(ホップリミットフィールド)

IPv6のホップリミットフィールドは、IPv4のTTLと同じ役割を持っている。

- TTL(Time to Live) : パケットの生存期間はルーターを1つ通過するごとに1ずつ減算され、0になるとパケットが破棄されてルーティングのループを防ぐ。

# SSHポートフォワーディング

```
ssh -L 転送対象ポート番号:SSHサーバーから見た接続先アドレス:SSHサーバーからの接続先ポート番号 [SSH接続ユーザー名@]SSHサーバーアドレス
```

```
ssh -L 8000:localhost:80 john@ssh-server
```

- ローカルポート8000への接続は、SSHサーバー自身(localhost)のポート80(Webサーバー)へ転送
- `-L`はLocal port forwardingのためのオプション

# スーパーサーバ

- 設定ファイルにはポート番号とプロトコルの対応を記述
- xinetdでアクセス制御を行う時は、TCPラッパーを利用

---

# デフォルトルート

宛先ネットワークがルーティングテーブルの`Destination`に存在しない場合、デフォルトルートの存在を確認し、存在する場合はデフォルトルートのGateway(`デフォルトゲートウェイ`)へ送信する。

- ルーティングテーブルの`Destination`が`default`と表示されている情報

---

# tracepath

- 宛先までのPathMTUが確認できる => PathMTUとは最大転送単位
- 宛先までの経路が確認できる => これはtracerouteと同じ
- IPv4, IPv6両方に対応している => `-6`オプションを使用するとIPv6にも対応できる

# ntpq

ntpdの時刻同期状況は`ntpq`コマンドで確認ができる。

- -p : serverに指定したサーバーとの同期状態を一覧表示(対話モードのpeers)
- -i : 対話モードで起動(デフォルト)

---

# nmcli

- nmcli connection modify ID パラメータ : 指定した接続IDの設定ファイルの指定したパラメータを書き換える

  => パラメータ反映には接続のconnection up操作が必要

- nmcli device modify インターフェース名 パラメータ : 指定したインターフェースのパラメータを即時反映する

  => 設定ファイルの書き換えは行われないので、システム再起動などで設定は失われる

# chronyc

### サブコマンド

- activity : オンライン/オフラインのNTPサーバー数を表示
- sources : 時刻ソースを表示
- sourcestats : 時刻ソースの統計情報を表示
- tracking : トラッキング(時刻同期の詳細情報)を表示


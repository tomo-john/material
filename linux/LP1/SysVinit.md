# SysVinit

Linuxが電源を入れてから起動する手順

現在では`systemd` という新しい起動の仕組みが主流にもなってきている

## SysVinitによる起動

最初に実行されるinitプロセスが`/etc/inittab`ファイルの設定に従い、必要なサービスを順次起動していく

① initが`/etc/inittab`ファイルを読み込む

② initが`/etc/rc.sysinit`スクリプトを読み込む

③ initが`/etc/rc`スクリプトを実行する

④ /etc/rcスクリプトが `/etc/rc<ランレベル>.d` ディレクトリ以下のスクリプトを実行する

あらかじめ決められた順にサービスが起動していくため、あるサービスの起動に手間取ると

それ以降に移動するサービスが待ち状態になり、起動完了までの時間がかかってしまう

## ランレベル 

SysVinitではランレベルと呼ばれるいくつかの動作モードがある

ランレベルごとにどのようなサービスが稼働するか(もしくはしないか)を決定できる

|ランレベル|Red Hat Enterprise Linux, CentOS                    |Ubuntu, Debian GNU/Linux|
|----------|----------------------------------------------------|------------------------|
|0         |停止                                                |停止                    |
|1         |シングルユーザー      　　　                        |シングルユーザー　　　  |
|2         |マルチユーザー(テキストログイン・NFSサーバーは停止) |マルチユーザー          |
|3         |マルチユーザー(テキストログイン)                    |マルチユーザー          |
|4         |未使用                                              |マルチユーザー          |
|5         |マルチユーザー(グラフィカルログイン)                |マルチユーザ            |
|6         |再起動                                              |再起動                  |
|S or s    |シングルユーザー                                    |シングルユーザー        |

シングルユーザーモード: rootだけが利用できる状態(一般ユーザーはログインできない)

現在のランレベルを表示するには `runlevel` コマンドを使用する



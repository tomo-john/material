# スコープ(scope)

変数が有効な範囲(どこから見えるか)のこと。

| 種類                   | 範囲                       | 備考                              |
|------------------------|----------------------------|-----------------------------------|
| ローカル変数           | 関数の中だけ               | 外から見えない                    |
| グローバル変数         | 関数の外                   | `global`で関数内から利用可能      |
| static変数             | 関数の中だけど値保持       | 呼び出すたびに値が続く            |
| スーパーグローバル変数 | どこからでもアクセスできる | `$_POST`, `$_GET`, `$_SERVER`など |

## 例1: ローカル変数

```
function sayMessage() {
  $message = "じょんです。</br>";
  echo $message;
}

sayMessage();

echo $message; // 何も表示されない
```

- 関数内で定義した`$message`は関数の外からは見えない

## 例2: グローバル変数を関数内で使うには「global」が必要

```
$name = "じょん"; // グローバル変数

function greet() {
  global $name; // これで関数内でも使える
  echo "こんにちわん、{$name}さん</br>";
}

greet();
```

- `global`を付けないと、関数の中では`$name`は見えない
- `glocal`を使うことで、外の変数を中に持ってくるイメージ

## 例3: static変数(関数内で値を保持できる)

```
function counter() {
  static $count = 0; // 初回だけ初期化される
  $count++;
  echo "count = $count</br>";
}

counter(); // 1
counter(); // 2
counter(); // 3
```

通常の変数は、関数を呼ぶたびにリセットされる。

`static`を付けると、前回の値を覚えておけるのが特徴。


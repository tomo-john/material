# ip (コマンド)

`ifconfig`, `route`, `arp`, `netstat`などの旧来のネットワーク関連のコマンドを置き換えるために、`iproute2 ネットワークユーティリティ`が開発された。

`iproute2`では`ip`コマンドによってアドレス設定、ルーティング設定などを行うことができる。

### 書式

```
ip オブジェクト コマンド [値]
```

=> オブジェクト(機能)に対して、コマンド(処理)を指定する形式で実行する

=> 各オブジェクトごとに指定可能なコマンドは異なる

=> オブジェクトやコマンドは短縮して指定することも可能

### オブジェクト

| オブジェクト | 短縮系 | 説明                                    |
|--------------|--------|-----------------------------------------|
| addr         | a, ad  | IPv4, Ipv6アドレス                      |
| link         | l, li  | ネットワークデバイス                    |
| neighbour    | n, nei | IPv4のARPキャッシュ、IPv6のNDキャッシュ |
| route        | r, rou | ルーティングテーブル                    |

### コマンド

| オブジェクト | 短縮系     | 説明             |
|--------------|------------|------------------|
| add          | a, ad      | 値の追加         |
| delete       | d, de, del | 値の削除         |
| show         | s, sh      | 現在の状態の表示 |

---

ルーティングテーブルからエントリを削除するコマンド書式:

```
ip route del アドレス/サブネット [via ゲートウェイ dev デバイス名]
```

デフォルトルートを対象とする場合は、`アドレス/サブネット`を`default`と指定する。

=> []内のゲートウェイやデバイス名は省略可能

```
# デフォルトルート(デフォルトゲートウェイが192.168.1.254)を削除
ip route del default
ip route del default via 192.168.1.254
```

---


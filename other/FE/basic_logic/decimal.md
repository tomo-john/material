# 小数

- 有限小数 : 小数点以下が有限(どこかで終わる)
- 無限小数(循環小数) : ずっと続く小数


| 基数Aで有限小数 => 基数Bでの表現は? | 必ず有限小数になる? | 理由・補足                                       |
|-----------------------------------------------------------|--------------------------------------------------|
| 2進数 => 10進数                     | はい                | 例: `0.1` (2進) => `0.5` (10進)                  |
| 10進数 => 2進数                     | ならないこともある  | 例: `0.1` (10進) => `0.000110011...` (2進, 循環) |
| 10進数 => 8進数                     | ならないこともある  | 例: `0.1` (10進) => 8進だと循環になることも      |
| 10進数 => 16進数                    | ならないこともある  | 例: `0.1` (10進) => 8進だと循環になることも      |
| 8進数 => 2進数                      | はい                | 1桁 = 3bitで正確に変換できる                     |
| 2進数 => 8進数                      | はい                | 同上                                             |
| 16進数 => 2進数                     | はい                | 1桁 = 4bitで正確に変換できる                     |
| 2進数 => 16進数                     | はい                | 同上                                             |

- 2・8・16進数はお互いに「有限 => 有限」で変換できる(8進数は3bit、16進数は4bit)
- 10進数は分母の素因数によって決まる

## 10進数の有限小数になる条件

10進数で有限小数になる分数は、分母が`2`と`5`の積だけでできている分数だけ!!

| 分数 | 10進数   | 有限? | 理由          |
|------|----------|-------|---------------|
| 1/2  | 0.5      | Yes   | 分母は2だけ   |
| 1/3  | 0.333... | No..  | 3はだめ       |
| 1/4  | 0.25     | Yes   | 2x2でok       |
| 1/5  | 0.2      | Yes   | 5だけ         |
| 1/6  | 0.166... | No..  | 2x3なのでだめ |
| 1/7  | 0.142... | No..  | 7はだめ       |
| 1/8  | 0.125    | Yes   | 2x2x2でok     |
| 1/9  | 0.111... | No..  | 9はだめ(3x3)  |
| 1/10 | 0.1      | Yes   | 2x5でok       |

## 誤差

| 誤差の種類   | 概要・イメージ                                      | 具体例・補足                                           |
|--------------|-----------------------------------------------------|--------------------------------------------------------|
| 丸め誤差     | 表現できる桁数に限りがあるため、近い数で代用される  | 3.141592653... => 3.14など(有限桁に丸める)             | 
| 桁落ち       | 近い値の引き算で有効な桁が少なくなってしまう        | 123.456 - 123.455 => 0.001 だが、桁が大きく失われる    |
| 情報落ち     | 大きな数に小さな数を足しても無視される              | 1.0 x 10^8 + 1.0  => 小さい値が加算されない            |   
| 桁あふれ誤差 | 計算結果が表現可能な範囲を超えてしまう              | 99999999999 x 9999999999 => メモリ・ビット数超過       |


# md5sum

```
md5sum ファイル名
```

このコマンドは、ファイルの中身に対してMD5というアルゴリズムを使ってハッシュ値(チェックサム)を計算するもの。

=> 引数にディレクトリは指定できない

出力例:

```
# md5sum dog.txt
8823eaa14d3c994edc9fd0ee9107ff7f  dog.txt
```

=> この`8823eaa...`の部分がハッシュ値(メッセージダイジェスト)

## メッセージダイジェストとは？

メッセージダイジェスト(message digest)は、`あるデータ(=メッセージ)に対して、固定長の要約(=ダイジェスト)を計算する仕組み`

どんなファイルでもMD5なら128ビット(32桁の16進数)、SHA256なら256ビット(64桁の16進数)のように、中身が同じなら必ず同じ値を持つ。

=> 1文字でも違えば全く違う値になる

## ハッシュ値とは？

ハッシュ関数を使って求められた値がハッシュ値。

- 同じ入力 => 同じハッシュ値 : 内容が同じファイルなら、いつ計算しても同じ
- 違う入力 => 違うハッシュ値 : 一文字でも変わると全く別の値に
- 元のデータには戻せない : 一方向(暗号化ではなく要約)
- 衝突が起きにくい : 異なる入力で同じ値になる確率は非常に低い(完全ではない)

## ハッシュ値の使用例

1. ファイルの改ざんチェック

=> ダウンロードしたファイルが壊れてないか・改ざんされてないかの確認

=> `md5sum ファイル名`で公開されている値と一致するか確認

2. パスワードの保持(Webアプリなど)

=> パスワードをそのまま保存せず、ハッシュ値を保存しておけばセキュリティアップ(今はより安全なSHA-256やbcryptなどが主流)

## 類似コマンド

使用されるハッシュアルゴリズムに違いで異なるコマンドもある。

| コマンド  | アルゴリズム | ハッシュ値の長さ | 安全性     | 特徴                                   |
|-----------|--------------|------------------|------------|----------------------------------------|
| md5sum    | MD5          | 128ビット(32桁)  | 弱い       | 速いけど脆弱、現在は非推奨             |
| sha256sum | SHA-256      | 256ビット(64桁)  | 強い       | 一般的な用途で広く使われている         |
| sha512sum | SHA-512      | 512ビット(128桁) | とても強い | 長くて強い、セキュリティ重視の用途向け |


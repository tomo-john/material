# boot

BIOS => ブートローダ => カーネル => init

- BIOS:

  物理的なハードウェア(マザーボート)上に書込まれている。

  PCの電源ONでまずBIOSが起動 => 記憶装置(HDD)などを最低限錦 => 起動デバイスの優先順位を決定

  その後、優先順位に従って各デバイスの先頭セクタにあるMBR(ブート用の特殊領域: ブートローダが格納)を読み込み、得られたブートローダに制御を移す。

  ブートローダが得られない場合は次のデバイスのMBRを読込む。

- ブートローダ

  LinuxシステムではGRUBが該当。

  MBRに格納されている第一段階部分と、記憶装置内の別の場所に格納されている第二段階部分がある。

  (MBRには厳しいサイズ制限がある)

  ブートローダは記憶装置内のカーネルをロードし、カーネルに制御を移す、

  第一段階のブートローダはMBRの先頭446バイトの領域にインストールされる。

  - ブートストラップローダ(446バイト)
  - 第1パーティション情報(16バイト) パーティションテーブル
  - 第2パーティション情報(16バイト) パーティションテーブル
  - 第3パーティション情報(16バイト) パーティションテーブル
  - 第4パーティション情報(16バイト) パーティションテーブル
  - ブートシグニチャ(2バイト)

  `合計: 512バイト`

- カーネル

  カーネルは起動されると、高度にハードウェアを認識・制御し、ルートファイルシステムのマウントなど様々な初期化処理を行う。

  ブートローダはカーネルと初期RAMディスク(initramfs)の内容をメモリ上に展開。

  その後、カーネルはメモリ上に展開された初期RAMディスク内の、ファイルシステムへアクセスするために必要なドライバやスクリプトを使用してルートファイルシステムをマウントする。

  そして、initという特別な最初のプロセスをルートファイルシステムから起動する。

- init

  最初に起動されるプロセスで、PIDは必ず`1`。

  従来のSysVinitと呼ばれるinitプログラムを採用しているシステムでは、`/sbin/init`が起動される。

  initプロセスは設定ファイル`/etc/inittab`の記述に基づいて、自動起動するべきプロセスを立ち上げるなど、アプリケーションの初期化を行う。

  最近のシステムではinitプログラムとして、初期化処理を高速化した`Upstart`や`systemd`を採用している場合が多い。(その場合は/etc/inittabファイルは使用されない)

# md5sum

メッセージダイジェスト(ハッシュ値)とは入力データにハッシュ関数を使用して計算される固定長の値。

入力データが異なる場合、出力されるメッセージは変化する。

そのため、データの改ざんが行われていないかどうかを確認するために使用される。

- `md5sum` : MD5メッセージダイジェストを計算・チェックする
- `sha256sum` : SHA256メッセージダイジェストを計算・チェックする
- `sha512sum` : SHA512メッセージダイジェストを計算・チェックする

=> `-c`, `--check`オプションで読込んだファイルの値と参照できる


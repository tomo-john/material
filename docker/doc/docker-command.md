# dockerコマンド

dockerコマンドは`docker`から始まり、`docker コマンド 対象`が基本系となる。

```
docker コマンド (オプション) 対象 (引数)
```

コマンドには上位コマンドと副コマンドがあり、上位コマンドでは「何に対して」、副コマンドでは「何をするか」を指定する。

```
# コンテナを起動
docker container run
```

上位コマンドは省略することもでき、慣例的にそっちを使う方が多い。

```
# これでもOK
docker run
```

## 上位コマンド

よく使用する上位コマンドは`container`, `image`, `volume`, `network`。

### container

コンテナの操作を行う上位コマンド。コンテナをどうするかはサブコマンドで指定する。

| 副コマンド | 説明                                       | 省略 | 主なオプション                 |
|------------|--------------------------------------------|------|--------------------------------|
| start      | コンテナを開始                             | ok   | -i                             |
| stop       | コンテナを停止                             | ok   | あまり指定しない               |
| create     | イメージからコンテナを作成                 | ok   | --name, -e, -p, -v             |
| run        | イメージのダウンロード、コンテナ作成・起動 | ok   | --name, -e, -p, -v, -d, -i, -t |
| rm         | 停止したコンテナを削除                     | ok   | -f, -v                         |
| exec       | 実行中のコンテナ内でプログラムを実行       | ok   | -i, -t                         |
| ls         | コンテナ一覧を表示                         | 別名 | -a                             |
| cp         | コンテナとホスト間でファイルをコピー       | ok   | あまり指定しない               |
| commit     | コンテナをイメージに変換                   | ok   | あまり指定しない               |

省略系のコマンドは上位コマンドの`container`を除いた形。

`docker container start`なら`docker start`。

`docker container ls`の省略形は`docker ps`で名前が違う。

`docker container run(docker run)`はdocker image pull, docker container create, docker container startをひとまとめにしたコマンド。

### image

イメージをダウンロードしたり、検索したりするなど、イメージに関する操作を行うコマンド。

イメージに対して何をするかは副コマンドで指定する。

| 副コマンド | 説明                                       | 省略 | 主なオプション                 |
|------------|--------------------------------------------|------|--------------------------------|
| pull       | Docker Hubなどのリポジトリからダウンロード | ok   | あまり指定しない               |
| rm         | Dockerイメージを削除する                   | 別名 | あまり指定しない               |
| ls         | 自分がダウンロードしたイメージ一覧を表示   | 別名 | あまり指定しない               |
| build      | Dockerイメージを作成                       | ok   | -t                             |

`docker image rm`の省略形は`docker rmi`。

`docker image ls`の省略形は`docker images`

### volume

volume(ボリューム)とはコンテナからマウントできるストレージのこと。

| 副コマンド | 説明                                       | 省略 | 主なオプション                 |
|------------|--------------------------------------------|------|--------------------------------|
| create     | ボリュームを作る                           | 不可 | --name                         |
| inspect    | ボリュームの詳細情報を表示する             | 不可 | あまり指定しない               |
| ls         | ボリュームの一覧を表示する                 | 不可 | -a                             |
| prune      | 現在マウントされていないボリュームを削除   | 不可 | あまり指定しない               |
| rm         | 指定したボリュームを削除する               | 不可 | あまり指定しない               |

### network

Dockerネットワークとは、Docker同士が接続するために使う仮想敵なネットワークのこと。

| 副コマンド | 説明                                           | 省略 | 主なオプション                 |
|------------|------------------------------------------------|------|--------------------------------|
| connect    | コンテナをネットワークに接続する               | 不可 | あまり指定しない               |
| disconnect | コンテナをネットワークから切断する             | 不可 | あまり指定しない               |
| create     | ネットワークを作る                             | 不可 | あまり指定しない               |
| inspect    | ネットワークの詳細情報を表示する               | 不可 | あまり指定しない               |
| ls         | ネットワークの一覧を表示する                   | 不可 | あまり指定しない               |
| prune      | 現在コンテナにつながってないネットワークを削除 | 不可 | あまり指定しない               |
| rm         | 指定したネットワークを削除する                 | 不可 | あまり指定しない               |


# オブジェクト指向

データと処理を1つにまとめて扱う考え方。

例えば、犬 :dog: というオブジェクトには:

- 名前・犬種・年齢 : データ(属性)
- 吠える・歩く・寝る : メソッド(操作・処理)

といった情報がまとまっている。これをプログラムでもそのまま表現しようというのがオブジェクト指向 :dog:

`Python`もオブジェクト指向のプログラム言語。[Dogクラス](../python/dog.py)

=> Java, C#, Ruby, Python, TypeScript, PHPなど

## クラスとインスタンス

- クラス : オブジェクトの設計図
- インスタンス : 実際にメモリに生成された実体

## 基本3要素

| 要素             | 説明                                                                                                 |
|------------------|------------------------------------------------------------------------------------------------------|
| カプセル化       | データとその処理(メソッド)を1つにまとめて、内部を隠す(情報隠蔽)                                      |
| 継承             | あるクラス(親)の性質を、別のクラス(子)が引き継ぐことができる                                         |
| ポリモーフィズム | 同じメソッド名でも、オブジェクトによって違うふるまいをさせる(例：`吠える()`の中身が犬によって異なる) |

- 汎化(はんか) : 子クラスの共通の性質を取り出して親クラスを作ること
- 特化 : 親クラスの性質をより細かく分けて、子クラスを作ること

## 上位クラスと下位クラスの関係

オブジェクト指向における上位クラスと下位クラスの関係には、`is-a(汎化-特化)`と`part-of(集約-分解)`の関係がある。

- is-a(汎化-特化)関係: 動物-犬、家電-冷蔵庫のように、`xxはyyyである`で表される関係
- part-of(集約-分解)関係: コンピュータ-CPU, 自動車-エンジンのように`xxはyyyの一部である`で表される関係

## ポリモーフィズム

オーバーライドは、スーパークラス(親クラス)で定義されたメソッドをそのまま継承するのではなく、サブクラスで再定義することで動作を変更すること。

これにより、同一のメッセージを送っても特有の動作ができる。

これがポリモーフィズム(多相性・多能性)と呼ばれている。

---

# UML

UML(Unified Modeling Language)とは、オブジェクト指向のソフトウェア開発において、ソフトウェア設計を図示するための表記法。

- 見える化に超役立つ
- 特にオブジェクト指向のクラス・関係・動きを説明するときに使う

## UMLで定義されている主な図

| 図               | 説明                                             |
|------------------|--------------------------------------------------|
| クラス図         | クラス間の関係を表す                             |
| オブジェクト図   | オブジェクト(インスタンス)間の関係を表す         |
| アクティビティ図 | ある振る舞いから次の振る舞いへの制御の流れを表す |
| シーケンス図     | オブジェクト間の相互作用を時系列に表す           |


## クラス図

```
# クラス図っぽいやつ
+------------------+        +-------------------+
|      犬(Dog)     |<>------|     動物(Animal)  |
+------------------+        +-------------------+
| - 名前 : str     |        | - 種類 : str      |
| - 年齢 : int     |        +-------------------+
+------------------+        | + 鳴く()          |
| + 吠える()       |        +-------------------+
+------------------+
```

- 白抜きの三角形が付いた矢印は`汎化`

## その他UML図

- ユースケース図 : システムの機能とユーザーの関係を表す
- クラス図 : クラスと関係を表す
- オブジェクト図 : 実態と関係を表す
- シーケンス図 : オブジェクト同士のメッセージの流れ
- 状態遷移図 : オブジェクトの状態とその変化
- アクティビティ図 : 処理の流れ(フローチャートに近い)
- コンポーネント図 : モジュールの構成・依存関係

| 図の種類         | 視点           | 主な用途               |
|------------------|----------------|------------------------|
| ユースケース図   | 利用者視点     | システムの機能の全体像 |
| クラス図         | 構造視点       | 設計(データ構造)       |
| シーケンス図     | 時間＋動き     | オブジェクトの動き     |
| 状態遷移図       | 状態とイベント | 状態の変化             |
| アクティビティ図 | 処理の流れ     | 業務プロセスの流れ     |


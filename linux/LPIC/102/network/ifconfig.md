# ifconfig

ネットワークインターフェースの設定や確認をするための(古い)コマンド。

=> 現在は`ip`コマンドが主流

```
ifconfig    # アクティブなインターフェースの情報を表示
ifconfig -a # 全インターフェース(非アクティブ含む)を表示
```

### 表示される情報の例

```
eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST> mtu 1500
        inet 192.168.1.10 netmask 255.255.255.0 broadcast 192.168.1.255
        inet6 fe80::a00:27ff:fe12:3456 prefixlen 64 scopeid 0x20<link>
        ether 08:00:27:12:34:56  txqueuelen 1000  (Ethernet)
        RX packets 1000  bytes 120000 (120.0 KB)
        TX packets 800  bytes 95000 (95.0 KB)
```

- inet : IPv4アドレス
- netmask : サブネットマスク
- broadcast : ブロードキャストアドレス
- ether : MACアドレス
- RX / TX : 受信/送信パケット数

### 書式

```
ifconfig [ネットワークインターフェース名] [パラメータ]
```

ネットワークインターフェース名は1番目は`eth0`, 2番目は`eth1`となる。

=> 現在はenp3s0のように、デバイスに基づいた命名規則によってインターフェース名が生成されることが一般的

### パラメータ

| パラメータ               | 説明                                 |
|--------------------------|--------------------------------------|
| IPアドレス               | IPアドレスを設定                     |
| netmask サブネットマスク | サブネットマスクを設定               |
| up                       | ネットワークインターフェースを有効化 |
| down                     | ネットワークインターフェースを無効化 |

=> ifconfigで設定した内容はシステム(ネットワーク)を再起動すると消える

=> 永続的な設定は設定ファイルに記述する

### 使用例

```
# IPとサブネットマスクを設定
ifconfig eth0 192.168.1.100 netmask 255.255.255.0
```

```
# 無効化
ifconfig eth0 down
```

---

# ifup / ifdown

指定してネットワークインターフェースを有効、無効にする(古い)コマンド。

- `ifup` : 有効
- `ifdown` : 無効

---

# ネットワークインターフェース名

## 従来の命名方式(旧スタイル)

`eth0`, `eth1`, `wlan0`, `lo`(ループバック)など。

シンプルだけど、起動順で名前が変わる可能性があり、安定しないとこがある。

## 新しい命名方式(予測可能な命名)

2015年頃からsystemd(udev)が導入した命名ルール。

- 再起動やハードウェアの増減でも名前が安定すること
- ハードウェア構成に基づいたわかりやすい名前にすること

| 形式   | 意味                                    |
|--------|-----------------------------------------|
| enp3s0 | 有線(Ethernet)-PCIバス3、スロット0      |
| ens33  | 有線(Ethernet)-システム上の命名順33番目 |
| wlp2s0 | 無線(Wi-Fi)-PCIバス2、スロット0         |
| eno1   | オンボードのEthernet1番                 |


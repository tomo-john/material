# xhost

Xサーバーへのアクセスを許可するには`xhost`コマンドを使用する。

```
xhost [[+-]ホスト名]
```

引数なしで実行すると現在の許可リストを確認できる。

| オプション   | 説明                                                           |
|--------------|----------------------------------------------------------------|
| `+ホスト名`  | 指定したホストを許可リストに追加(+は省略可)                    |
| `-ホスト名`  | 指定したホストを許可リストから削除                             |
| `+`          | 許可リストに関係なくすべてのアクセスを許可(アクセス制御を無効) |
| `-`          | 許可リストにあるホストのみ接続を許可(アクセス制御を有効)       |

## 例

### サーバー側

`xhost`コマンドで特定のホストからのアクセスを許可する。

```
# 192.168.1.20がXクライアント
xhost +192.168.1.20
```

### クライアント側

環境変数`DISPLAY`で表示先(Xサーバー)を指定し、Xサーバーに表示させたいプログラム(例として`xeyes`)を実行する。

=> 環境変数`DISPLAY`の書式は`[ホスト名]:ディスプレイ番号`

=> 複数のXサーバーが起動している場合は、ディスプレイ番号0から1, 2, 3...の順で番号を指定

```
# Xサーバー(192.168.1.10)でxeyesプログラムを実行
DISPLAY=192.168.1.10:0
export DISPLAY
xeyes &
```

---

# xauth

`xhost`コマンドはホスト単位でアクセスを許可するため、セキュリティ上好ましくない。

`xauth`コマンドはユーザー単位でXサーバーへのアクセスを制限する。

- `xauth list` : Xサーバーごとの接続に使用される資格情報を表示
- `xauth add` : 接続ユーザーの`~/.Xauthority`ファイル(クライアント認証ファイル)にXサーバーと同じ資格情報を保存


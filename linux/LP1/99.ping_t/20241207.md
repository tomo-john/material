# find

```
find [検索起点ディレクトリ] [検索式] [アクション]
```

| 検索式               | 説明                                                 |
|----------------------|------------------------------------------------------|
| -name ファイル名     | ファイル名で検索                                     |
| -atime 日数          | 最終アクセス日で検索                                 |
| -mtime 日数          | 最終更新日で検索                                     |
| -perm アクセス権     | アクセス権で検索                                     |
| -size サイズ         | ファイルサイズで検索                                 |
| -type ファイルの種類 | f: ファイル d: ディレクトリ l: シンボリックリンク    |
| -uid ユーザーID      | ファイル所有者のユーザーIDで検索                     |
| -user ユーザー名     | ファイルの所有者のユーザー名(またはユーザーID)で検索 |
| -maxdepth 階層数     | 指定した階層まで検索                                 |
| -mindepth 階層数     | 指定した階層から下を検索                             |

| 検索式               | 説明                                                 |
|----------------------|------------------------------------------------------|
| -print               | 検索結果を改行で区切って表示(デフォルト)             |
| -print0              | 検索結果をNULL文字(\0)で区切って表示                 |
| -exec コマンド {} \; | 検索結果のファイルに対してコマンドを実行             |

```
find . -name "dir*" -print0 | xargs -0 ls -R
```

- `find`: ファイルやディレクトリを検索するコマンド
- `.`: カレントディレクトリ、これが検索起点ディレクトリ
- `-name "dir*"`: dirで始まるファイル名、ディレクトリ名で検索
- `-print0`: 出力結果の各パスの後にNULL文字を付ける(\0)
- `xargs`: 標準入力から受け取ったデータを引数として他のコマンドに渡す
- `-0`: NULL文字区切りで入力を処理するオプション(`find ... -print0`と組み合わせる)
- `ls -R`: 指定したディレクトリ内のサブディレクトリも含めてすべてリストする１

# which / type

シェルはパスの指定なしで入力されたコマンド(プログラム)を、環境変数PATHに設定されているディレクトリの中から検索して実行する。

これらのディレクトリは「パスが通っている」という言い方をする。

パスが通っていれば、コマンドの格納されているパスを指定することなく、コマンド名のみで実行できる。

`which`, `type`コマンドは、指定されたコマンドの実行ファイルを環境変数PATHに基づいて検索し、結果を出力する。

`which`コマンドは指定したコマンドが格納されている場所を検索し、そのパスを表示する。

`type`コマンドは指定したコマンドをシェルがどのように解釈するか(通常コマンドか、組み込みコマンドか、エイリアスかなど)を表示する。

# fdisk

`fdisk`はMBR方式のハードディスクにおけるパーティションの作成、削除、変更および情報表示を行うコマンド。

```
fdisk [-l] デバイス名
```

`-l`は指定したデバイスのパーティションテーブルを表示する。

パーティションテーブルにはパーティションの情報が格納されている。

`-l`オプションを指定しない場合は、指定したデバイスのパーティションを対話的に操作することができる。

その後、サブコマンドの`m`を入力すると、パーティションの操作で使用できるサブコマンドの一覧が表示される。

| サブコマンド | 説明                                         |
|--------------|----------------------------------------------|
| m            | サブコマンドのメニュー表示                   |
| l            | パーティションタイプの一覧表示               |
| n            | パーティションの作成                         |
| d            | パーティションの削除                         |
| p            | パーティションテーブルの表示                 |
| t            | パーティションタイプ(システムID)の変更       |
| w            | パーティションテーブルの変更を保存して終了   |
| q            | パーティションテーブルの変更を保存せずに終了 |

作成したパーティションを利用するには`mkfs`や`mke2fs`コマンドを利用してパーティションにファイルシステムを作成する必要がある。

作成したパーティションをスワップ領域として利用するには`mkswap`コマンドを利用する。

# dpkg

Debian形式のパッケージのインストール・アンインストールなど、基本的なパッケージ管理を行うコマンド。

| オプション | 説明                                                             |
|------------|------------------------------------------------------------------|
| -E         | 同バージョンが既にインストールされていればインストールを行わない |
| -G         | 新バージョンが既にインストールされていればインストールを行わない |
| -R         | ディレクトリを再帰的に処理                                       |

| アクション | 説明                                                                     |
|------------|--------------------------------------------------------------------------|
| -i         | インストール(--install)                                                  |
| -r         | 設定ファイルを残してアンインストール(--remove)                           |
| -P         | 設定ファイルも含め完全にアンインストール(--purge)                        |
| -l         | インストール済みパッケージを検索(--list)                                 |
| -L         | 指定したパッケージからインストールされたファイルを表示(--listfiles)      |
| -s         | インストール済みパッケージから詳細情報の表示(--status)                   |
| -S         | 指定したファイルがどのパッケージからインストールされたかを表示(--search) |
| -C         | インストールが完了していない(不完全)パッケージの表示(--audit)            |

```
# パッケージのインストール(どちらも同じ)
dpkg -Ri package
dpkg -R --install packages
```

`-R`オプションを併用する際は、引数にパッケージファイル名でなく、パッケージが置かれいるディレクトリを指定する必要がある。

上記の例では`packages`ディレクトリに格納されているパッケージがまとめてインストールされる。

# rpm

RPM形式のパッケージのインストール・アンインストールなど、基本的なパッケージ管理を行うコマンド。

パッケージの参照および検査も行うことができる。


# UEFI

UEFI(Unified Extensible Firmware Interface)はIntelがBIOSを置き換えるために考案したEFIの統一仕様。

GUIでの操作をサポートしていたり、ファームウェアが使用可能なメモリ量の上限が緩和されるなどBIOSよりも高性能。

ESP(EFIシステムパーティション)はUEFIシステムにおいて、物理的なマシンが起動し、ファームウェアが読込まれた後、

その後の起動シーケンスで最初にアクセスされる領域になる。(ESPは/boot/efiにマウントされる)

またGPT(GUID Partition Table)形式のHDDからの起動をサポートしている。

GPTは、BIOSで起動ディスクとしてのサポートしているMBR形式のパーティションテーブルの上限2.2TBという制約を

大幅に超える、9.4ZBまでのHDDを管理することができるパーティションテーブルの形式。

3TBを超える大容量HDDを起動ディスクとして使用する場合はUEFIとGPTを使用する必要がある。

ただし、Linuxの場合GRUB2ブートローダがGPTをサポートしているため、BIOSからGRUBローダーをロードできれば

GPT形式のハードディスクから起動は可能。

# 1>&2

標準出力の出力先を、標準エラー出力の出力先と同じにする。

```
キーボード → 標準入力(STDIN 0) → コマンド →  標準出力(STDIN 1) or 標準エラー出力(STDIN 2) → ディスプレイ
```

`>&`は左側に書かれたファイルディスクリプタ(数値)の出力先を、右側に書かれたファイルディスクリプタに変更する。

`1>&2`はシェルスクリプト内でcatやechoを使用して、意図的にエラーメッセージを表示させたい場合などに使用する。

```
echo "Error Message" 1>&2
```

# ハードディスクのレイアウト設計

Linuxをインストールする際、パーティションを設計する必要がある。

パーティションとはハードディスクを論理的に分割した単位のこと。

Linuxのパーティションは最低でも以下の2つが必ず必要。

- ルートパーティション: 最上位のディレクトリであるルートディレクトリ`/`を割り当てたパーティション
- スワップ領域: 物理メモリに収まらなかった情報を一時的に格納する為の領域

上記の最低限必要なパーティションを作成した場合、全てのディレクトリがルートパーティションに収まることになる。

全てのディレクトリをルートパーティションに収めることもできるが、通常はディレクトリの用途に応じて、

特定のディレクトリを別のパーティションに割り当てる。

特に読み書きが頻繁に発生するディレクトリに専用パーティションを割り当てる事が多い。

専用のパーティションを割り当てることによって、障害時の被害を障害が発生したパーティション内に抑えられる可能性がある。

バックアップしたいディレクトリに専用のパーティションに割り当てておくと、バックアップ作業も容易になる。

システムの起動に必要なディレクトリ`/bin`, `/sbin`などはルートパーティションから分割することはできない。

### ルートパーティションから分割できないディレクトリ

- `/bin`: 一般ユーザー用のコマンドを格納
- `/sbin`: 管理者用のコマンドを格納
- `/etc`: システム設定ファイルを格納
- `/lib`: 共有ライブラリを格納
- `/dev`: デバイスファイルを格納


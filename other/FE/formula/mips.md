# MIPS

1秒間に何百万個の命令が実行できるか。

=> `百万 = 1,000,000 = 10^6`

=> `1MIPSで1秒間に1 x 10^6命令実行できるということ`

## MIPS

```
MIPS = 命令数 / (実行時間(秒)) x 10^6
```

## 実行時間 

```
実行時間 = 命令数 / (MIPS x 10^6)
```

## 命令数

```
a = b / (c x d)

b = a x (c x d)
```

```
命令数 = MIPS x 実行時間(秒) x 10^6
```

## たすき掛け

```
# 50MIPSの平均命令実行時間を求める
50MIPSとは1秒間に50 x 10^6命令が実行できるということ。

1秒 => 5 x 10^7命令
?秒 => 1命令

たすき掛けで解くと、 1 = ? x 5 x 10^7

? = 1 / (5 x 10^7)
? = (1 / 5) x (1 / 10^7)
? = 0.2 x 10^-7
? = 2   x 10^-8
? = 20  x 10^-9
? = 20ナノ秒(0.02マイクロ秒)
```

## memo

- m(ミリ) : 10^-3
- μ(マイクロ) : 10^-6
- n(ナノ) : 10^-9
- p(ピコ) : 10^-12

---

## 例題

動作クロック周波数が700MHzのCPUで、命令実行に必要なクロック数および命令の出現率が下に示す表。

このCPUの性能は約何MIPSか？

| 命令の種別             | 命令実行に必要なクロック数 | 出現率(%) |
|------------------------|----------------------------|-----------|
| レジスタ間演算         | 4                          | 30        |
| メモリ・レジスタ間演算 | 8                          | 60        |
| 無条件分岐             | 10                         | 10        |

```
# クロック数の平均
4 x 0.3 + 8 x 0.6 + 10 x 0.1 = 1.2 + 4.8 + 1 = 7

# CPUは1秒間に 700 x 10^6 クロック動く(700MHz)
命令1つあたりにかかる時間(秒) = 7 / (700 x 10^6) = 1 / (100 x 10^6) = 10 ^-8 = 10ナノ秒

# 1秒間に実行できる命令数
命令数/秒 = 1 / 命令1つの時間 = 1 / 10^-8 = 10^8

# MIPSに直す
MIPT = 命令数 / 10^6 = 10^8 / 10^6 = 100
```


# アドレスとポインタの特別な使い方

## 1.ポインタ変数の設定
ポインタ変数はアドレスを保持する変数

- 1: 変数アドレスを設定
  ```c
  int *p1;
  int n1;
  p1 = &n1;
  ```
  変数n1のアドレスがp1に代入される

- 2: 配列のアドレスを設定
  ```c
  int *p1;
  int n1[10];
  p1 = n1;
  ```
  配列変数n1の`先頭`アドレスがp1に代入される

  => 配列の変数名は、その配列の先頭のアドレスを表す

- 3: 配列のある要素のアドレスを代入
  ```c
  int *p1;
  int n1[10];
  p1 = &n1[5]
  ```
  配列変数n1の`6`番目のアドレスがp1に代入される

- 4: char型のポインタに文字列の先頭アドレスを代入
  ```c
  char *p1;
  p1 = "ABCDEF";
  ```
  文字列定数の先頭アドレスがp1に代入されている

ポインタ変数の内容がアドレスであるということは、そのアドレスが示すデータも扱うことができる

```c
int n1;
int *p1;
int n2;
n1 = 123;
p1 = &n1;

// n2にポインタ変数p1の示している値を代入
n2 = *p1
```
この場合の`*`は`間接演算子`といい、p1の示しているデータを意味する

=> p2にp1が示しているデータの123が代入される

## 2.ポインタ変数を使用した代入例
```c
#include <stdio.h>

void main(void);

void main(void){
  int n1; int n2; int *p1;

  printf("数値を入力してください: ");
  scanf("%d", &n1);

  p1 = &n1; // p1にn1のアドレスを代入

  n2 = *p1; // p1が示すデータをn2に代入

  printf("入力した数値: %d\n", n1);       // 5(入力した数値)
  printf("ポインタのアドレス: %x\n", p1); // 6ddfb5fc
  printf("代入された数値: %d\n", n2);     // 5(入力した数値)
}
```


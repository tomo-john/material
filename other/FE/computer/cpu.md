# CPU

CPU(Central Processing Unit : 中央処理装置)はまたの名前はプロセッサ。

- コンピューターの頭脳
- プログラムに従って、計算・制御・判断を行う

CPUの性能は主に、`クロック周波数`、`MIPS`、`コア`の3つの指標で評価される。

## クロック周波数

CPUの動作の速さを表す指標。

コンピューター内部の発振器のテンポに合わせて命令を処理する。

クロック周波数は、この発振器が1秒間に発生させる信号の回数。

クロック周波数の単位は`Hz`で、1秒間に1回の信号を発生させるのが`1Hz`。

=> 1.30GHzなら、1秒間に1.3 x 10^9回 = 1秒間に13億回の命令実行のタイミングがある

ただし、1クロック = 1命令とは限らない！(めちゃくちゃ重要)

実際は、1命令に平均で何クロック必要か？っていうのが重要 :dog:

```
1秒間に実行できる命令数 = クロック周波数 / 1つの命令を実行するのに必要なクロック数
```

```
# 1.60GHzのクロック周波数
最大で 1.6 x 10^9 クロックになる
もし1つの命令を実行するのに必要なクロック数が平均4クロックの場合

(1.6 x 10^9) / 4 = (16 x 10^8) / 4 = 4 x 10^8 = 400 x 10^6
=> 1秒に400M回命令をさばける # これはまさに400MIPSということ
```

## MIPS

MIPS(Million Instructions Per Second)はCPUが1秒間に何百万個(ミリオン)の命令を実行できるかを表す単位。

=> MIPS = 1秒間に実行できる命令の数 / 100万 (まず必ずここはおさえる)

=> 100万 = 10^6

### 命令数ベース

1秒間に実行できる命令の数とは、`命令数 / 実行時間(秒)`で求めることができる。

=> 10秒で20個命令を実行していれば、1秒あたりの命令数は2個

MIPSはこの1秒間の命令を100万(10^6)で割るということ。(10^6で割る = 10^-6を掛ける)

```
# 1秒あたりの命令数を出して100万の単位に合わせるイメージ
MIPS = 命令数 / 実行時間(秒) x 10^-6

もしくは

MIPS = 命令数 / (実行時間(秒) x 10^6)
```

### 命令時間ベース

平均命令実行時間は1つの命令を実行するのにかかる時間の平均値のこと。

平均命令実行時間は`実行時間 / 命令数`で求めることができる。

これを逆に言うと、`1 / 平均命令実行時間 = 命令数 / 実行時間`することができる。

```
# なのでこの式も成り立つ
MIPS = 1秒 / 平均命令実行時間 x 10^-6

```

=> 分数の法則からこれも成り立つ: `平均命令実行時間 = 1 / MIPS x 10^-6^

## コア

コアとはCPU(プロセッサ)内にある演算を行う装置。

昔は1つのCPUに1つのコアが搭載されているコンピューターが主流だった。

最近は1つのCPU内に複数のコアが搭載されているコンピューターが主流。

---

# 式

- 1秒間に実行できる命令数 = クロック周波数 / 1つの命令を実行するのに必要なクロック数
- MIPS = 命令の数 / 実行時間 x 10^-6
- MIPS = 1 / 平均命令実行時間 x 10^-6

---

## マルチプロセッサ

### 疎結合マルチプロセッサシステム

複数のコンピュータを高速な通信システムで結合し、マルチプロセッサシステムとして利用。

クラスタシステムとも呼ばれる。

### 密結合マルチプロセッサシステム

複数のCPUが`メモリ`を共有し、単一のOSで制御されるマルチプロセッサシステム。

疎結合ではCPUごとにOS、主記憶が独立して存在し、密結合では複数のCPUが単一のOSと主記憶を共有する。


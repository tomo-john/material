# Debianパッケージの管理

実行プログラム、設定ファイル、ドキュメントなどを1つのファイルにまとめたものをパッケージという。

パッケージ管理の方式はディストリビューションによって異なる

Devian GNU/Linuxなどで採用されているDebian形式、Red Hat Enterprise Linuxなどで採用されているRPM形式

## パッケージ管理

パッケージのインストール、アンインストール、アップデートにおいて、どのようなパッケージがどこにインストール

されているかを管理したり、パッケージ間の競合を回避する仕組みを提供するのがパッケージ管理システム

=> インストール、アンインストール、アップデート作業が容易になる

パッケージAに含まれるファイルをパッケージBが利用している場合、パッケージAなしでBは使用できない

=> このような関係をパッケージの依存関係という

パッケージAとパッケージCが同名のファイルをインストールするものの、AとCで利用するバージョンが異なる

=> このような関係をパッケージの競合関係という

パッケージ管理システムでは依存関係や競合関係を監視し、これらを損なうインストール(アンインストール)作業には警告を出す

LinuxではDebian形式とRPM形式の2種類のパッケージ管理方法がある

Debian形式: dpkgコマンド, APTツール

RPM形式: rpm, YUM

=> これらに互換性はない

## dpkg

Debian/GNU LinuxやUbuntuなどのDebian系ディストリビューションではDebian形式(deb形式)が使われる

```
tree_1.6.0-1_i386.deb
```
tree: パッケージ名称

1.6.0: バージョン番号

1: Debianリビジョン番号

i386: アーキテクチャ

deb: 拡張子

Debian形式のパッケージを扱うには`dpkg`コマンドを使用する

```
dpkg [オプション] アクション
```

### オプション

- -E: すでに同バージョンがインストール済の時、インストールしない
- -G: すでに新バージョンがインストール済の時、インストールしない
- -R: ディレクトリ内を再帰的に処理

### アクション

- -i: インストール
- -r: アンインストール(設定ファイル残す)
- -P: アンインストール(設定ファイルも含め完全に)
- -l: インストール済パッケージを検索して表示
- -S: 指定したファイルがどのパッケージからインストールされたかを表示
- -L: 指定パッケージからインストールされたファイルを一覧表示
- -s: パッケージ情報を表示

`dpkg-reconfigure コマンド`では対話的な設定を行うことも可能

